<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <title>Bien Criollas - Panel</title>
  <!-- üîí PROTECCI√ìN DEL PANEL -->
  <script>
    if (localStorage.getItem("bc_logueado") !== "SI") {
      window.location.href = "./login.html";
    }
  </script>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/seccion.css">
   <link rel="stylesheet" href="./css/estadistica.css">
  <script src="https://cdn.tailwindcss.com"></script>
 <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
 <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,1,0" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">


<link rel="manifest" href="./manifest.json">
<meta name="theme-color" content="#ef4444">
<link rel="apple-touch-icon" href="./icons/icon-192.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">






</head>
<body class="bg-slate-100 min-h-screen text-slate-800">

  <div class="flex min-h-screen">

    <!-- SIDEBAR -->
    <aside class="w-64 text-white flex flex-col h-dvh fixed left-0 top-0 sidebar-premium overflow-hidden z-40">
    
      <div class="px-6 py-5 border-b border-slate-100">
    <div class="flex flex-col items-center gap-2">
    <div class="coin-wrap">
  <div class="coin-pro">
    <!-- Frente -->
    <img src="./logoBienCriollas.png" alt="Bien Criollas" class="coin-face coin-front" />
    <!-- Dorso (misma imagen, un poco m√°s oscuro para que parezca reverso) -->
    <img src="./logoBienCriollas.png" alt="" class="coin-face coin-back" />
  </div>
</div>

    <div>
      <h1 class="text-xl font-semibold tracking-tight">Bien Criollas</h1>
      <p class="text-xs text-slate-400 mt-1">Gesti√≥n de pedidos y stock</p>
    </div>
  </div>
</div>
<nav class="flex-1 px-3 py-4 space-y-2">

  <button class="nav-item" data-section-btn="pedidos">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">receipt_long</span>
      </span>
    <span>Pedidos</span>
  </button>

  <button class="nav-item" data-section-btn="stock">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">grocery</span>
    </span>
    <span>Stock</span>
  </button>

  <button class="nav-item" data-section-btn="caja">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">point_of_sale</span>

    </span>
    <span>Caja</span>
  </button>

  <button class="nav-item" data-section-btn="egreso">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">trending_down</span>
    </span>
    <span>Egresos</span>
  </button>

 <!-- <button class="nav-item" data-section-btn="horarios">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">schedule</span>
    </span>
    <span>Horarios empleados</span>
  </button> -->

  <button class="nav-item" data-section-btn="estadisticas">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">query_stats</span>
    </span>
    <span>Estad√≠sticas</span>
  </button>

  <button class="nav-item" data-section-btn="resumen-historico">
    <span class="nav-ico-badge" aria-hidden="true">
      <span class="material-symbols-rounded nav-ico">timeline</span>
    </span>
    <span>Resumen hist√≥rico</span>
  </button>

  

   

</nav>

      <div class="px-4 py-3 border-t border-slate-100 text-xs text-slate-400">
        v1.0 ‚Ä¢ Empanadas manager
      </div>
    </aside>

    <!-- MAIN -->
<main class="flex-1 flex flex-col ml-64 bg-manchas-rojas">

      <!-- HEADER -->
<header class=" h-16 font-extrabold tracking-tight text-slate-900 text-[20px] leading-tight flex items-center justify-between px-6 header-secciones  bg-transparent">
        <div>
          <h2 class="text-lg font-semibold" id="titulo-seccion">Pedidos</h2>
          <p class="text-xs text-slate-500" id="subtitulo-seccion">
            Listado de pedidos del d√≠a
          </p>
        </div>
        <div class="flex items-center gap-3 text-xs text-slate-500">
  <span>Usuario: admin</span>

  <button
    onclick="localStorage.removeItem('bc_logueado'); window.location.href='login.html';"
    class="px-2 py-1 text-[11px] border border-slate-300 rounded-md hover:bg-slate-50"
  >
    Cerrar sesi√≥n
  </button>
</div>

      </header>

     

      <!-- CONTENT -->
<section class="flex-1 p-6 overflow-y-auto space-y-6">

        <!-- SECCI√ìN PEDIDOS -->
<div data-section="pedidos" class="space-y-5 seccion">

<!-- ============================== --> 
<!-- üü° FECHA DEL T√çTULO ANIMADO    -->
<!-- ============================== -->
<div class="div-fecha mt-3 mb-10">
  <h1 id="titulo-fecha" class="titulo-handwrite mb-1"></h1>
  <p class="text-xs text-slate-500 mb-4">Est√°s registrando pedidos para esta fecha.</p>
</div>


         <!-- Filtros -->
<div class="flex flex-wrap items-center gap-3">
  

  <div class="flex items-center gap-2">
    <label class="text-xs font-medium text-slate-600">Estado:</label>
    <select id="selector-estado" class="border rounded-md px-2 py-1 text-xs">
      <option value="PENDIENTE">Pendientes</option>
      <option value="ENTREGADO">Entregados</option>
      <option value="CANCELADO">Cancelados</option>
    </select>
  </div>

  <!-- Total de pedidos -->
  <div class="flex items-center gap-2 text-xs ml-2">
    <span class="font-medium text-slate-600">Total pedidos:</span>
    <span id="total-pedidos" class="px-2 py-0.5 rounded-full  text-slate-900 font-semibold text-base">
      0
    </span>
  </div>

  <button
  id="btn-nuevo-pedido"
  class="
    ml-auto
    inline-flex items-center gap-2
    rounded-full
    bg-gradient-to-r from-rose-600 to-rose-500
    px-4 py-2
    text-xs font-semibold tracking-tight text-white
    shadow-sm shadow-rose-500/40
    hover:shadow-md hover:shadow-rose-500/60
    hover:-translate-y-0.5
    active:translate-y-0 active:scale-[0.98]
    focus-visible:outline-none
    focus-visible:ring-2 focus-visible:ring-rose-500/80
    focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900
    transition-all
  "
>
  <span class="text-base leading-none">Ôºã</span>
  <span>Nuevo pedido</span>
</button>
</div>

          <!-- Tabla -->
          <div class="rounded-2xl bg-transparent border-0 shadow-none overflow-visible">
            <table class="table-fixed text-xs w-full border-separate border-spacing-y-3">
               <colgroup>
    <col class="w-[240px]" />  <!-- Cliente -->
    <col class="w-[170px]" />  <!-- Tipo venta -->
    <col class="w-[170px]" />  <!-- Pago -->
    <col class="w-[190px]" />  <!-- N√∫mero pedido -->
    <col class="w-[120px]" />  <!-- Horario -->
    <col class="w-[150px]" />  <!-- Estado -->
    <col class="w-[140px]" />  <!-- Detalle -->
    <col class="w-[130px]" />  <!-- Total -->
    <col class="w-[110px]" />  <!-- Action -->
  </colgroup>
              <thead class="bg-transparent">
                <tr class="text-left text-slate-500">
                  
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Cliente</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Tipo venta</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Pago</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">N√∫mero de pedido</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Horario</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Estado</th>
                  <th class="px-3 py-2 text-left text-[12px] font-extrabold text-slate-500">Detalle</th>
                  <th class="px-3 py-2 text-right pr-5 text-[12px] font-extrabold text-slate-500 ">Total</th>
                  <th class="px-3 py-2 text-center text-[12px] font-extrabold text-slate-500">Accion</th>
                </tr>
              </thead>
              <tbody id="tbody-pedidos" class="divide-y divide-slate-100">
                
              </tbody>
            </table>
          </div>

          <div id="paginacion" class="mt-4 flex justify-center items-center gap-2"></div>
        </div>


        

<!-- SECCI√ìN NUEVO PEDIDO -->
<div data-section="nuevo-pedido" class="space-y-5 hidden seccion">
  <!-- Header de la secci√≥n -->
  <div class="flex items-center justify-between div-nuevo-pedido">
    
    <button type="button"
            id="btn-volver-pedidos"
            class="text-xs px-3 py-1.5 rounded-md text-slate-700 hover:bg-slate-50">
      ‚Üê Volver a pedidos
    </button>
  </div>

  
    <!-- Formulario principal -->
  <!-- Formulario principal (PREMIUM / flotante / transl√∫cido) -->
<div
  class="relative overflow-hidden  backdrop-blur-xl
          p-5 md:p-6 space-y-5">


  <!-- Fila 1: cliente / tipo venta / tipo pago -->
  <div class="grid md:grid-cols-3 gap-4">

    <!-- Cliente -->
    <div class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">Cliente</label>
      <div class="relative">
        <input
          type="text"
          id="cliente-nuevo-pedido"
          class="w-full rounded-full border border-slate-200/80 bg-white/80 px-4 py-2 text-sm
                 shadow-sm outline-none transition
                 focus:border-red-400 focus:ring-4 focus:ring-red-500/15
                 placeholder:text-slate-400"
          placeholder="Nombre del cliente"
        />
      </div>
    </div>

    <!-- Tipo de venta -->
    <div class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">Tipo de venta</label>

      <div class="relative">
        <select
          id="tipo-venta-nuevo-pedido"
          class="w-full appearance-none rounded-full border border-slate-200/80 bg-white/80 px-4 py-2 pr-10 text-sm
                 shadow-sm outline-none transition
                 focus:border-red-400 focus:ring-4 focus:ring-red-500/15">
          <option value="PARTICULAR">PARTICULAR</option>
          <option value="PEDIDOS_YA">PEDIDOS_YA</option>
        </select>

        <!-- flechita -->
        <span class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400">‚ñæ</span>

        <!-- chip decorativo (solo visual) -->
        <span class="pointer-events-none absolute right-10 top-1/2 -translate-y-1/2
                     hidden sm:inline-flex items-center rounded-full border border-slate-200 bg-white/70
                     px-2 py-0.5 text-[10px] font-extrabold text-slate-600">
          VENTA
        </span>
      </div>
    </div>

    <!-- Tipo de pago -->
    <div class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">Tipo de pago</label>

      <div class="relative">
        <select
          id="tipo-pago"
          class="w-full appearance-none rounded-full border border-slate-200/80 bg-white/80 px-4 py-2 pr-10 text-sm
                 shadow-sm outline-none transition
                 focus:border-red-400 focus:ring-4 focus:ring-red-500/15">
          <option value="EFECTIVO">EFECTIVO</option>
          <option value="TRANSFERENCIA">TRANSFERENCIA</option>
          <option value="COMBINADO">COMBINADO (efectivo + transferencia)</option>
        </select>

        <span class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400">‚ñæ</span>

        <span class="pointer-events-none absolute right-10 top-1/2 -translate-y-1/2
                     hidden sm:inline-flex items-center rounded-full border border-slate-200 bg-white/70
                     px-2 py-0.5 text-[10px] font-extrabold text-slate-600">
          PAGO
        </span>
      </div>
    </div>
  </div>

  <!-- Separador premium -->
  <div class="h-px w-full bg-gradient-to-r from-transparent via-slate-200/80 to-transparent"></div>

  <!-- Fila 2: nro pedido / hora entrega / total -->
  <div class="grid md:grid-cols-3 gap-4">

    <!-- N√∫mero de pedido (solo PEDIDOS_YA) -->
    <div id="campo-numero-pedido" class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">
        N√∫mero de pedido (PedidosYa)
      </label>
      <input
        id="numero-pedido"
        type="text"
        class="w-full rounded-full border border-slate-200/80 bg-white/80 px-4 py-2 text-sm
               shadow-sm outline-none transition
               focus:border-red-400 focus:ring-4 focus:ring-red-500/15
               placeholder:text-slate-400"
        placeholder="#12345"
      />
      <p class="text-[11px] text-slate-500/90">Para cruzar con el ticket de PedidosYa.</p>
    </div>

    <!-- Hora de entrega (solo PARTICULAR) -->
    <div id="campo-hora-entrega" class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">
        Hora de entrega (particular)
      </label>
      <input
        id="hora-entrega"
        type="time"
        class="w-full rounded-full border border-slate-200/80 bg-white/80 px-4 py-2 text-sm
               shadow-sm outline-none transition
               focus:border-red-400 focus:ring-4 focus:ring-red-500/15"
      />
      <p class="text-[11px] text-slate-500/90">Ideal para organizar la salida.</p>
    </div>

    <!-- Total (m√°s pro: bloque destacado) -->
    <div class="flex flex-col gap-1.5">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">Total del pedido</label>

      <div
        class="flex items-center gap-2 rounded-full border border-slate-200/80 bg-white/75 px-4 py-1 shadow-sm
               focus-within:border-red-400 focus-within:ring-4 focus-within:ring-red-500/15 transition">
        <span class="text-sm font-extrabold text-slate-700">$</span>
        <input
          id="total-pedido"
          type="number"
          class="w-full bg-transparent text-lg font-extrabold text-slate-900 outline-none
                 placeholder:text-slate-400"
          placeholder="0.00"
          step="0.01"
          min="0"
        />
      </div>

      <p class="text-[11px] text-slate-500/90">Se usa para validar pagos (especialmente combinado).</p>
    </div>
  </div>

  <!-- Detalle de pago (solo cuando tipo de pago = COMBINADO) -->
  <div id="bloque-detalle-pago"
       class="grid md:grid-cols-2 gap-4 pt-4 hidden">

    <!-- Monto en efectivo -->
    <div class="flex flex-col gap-1.5 rounded-2xl border border-slate-200/70 bg-white/65 p-4 shadow-sm">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">
        Monto en efectivo
      </label>

      <div class="flex items-center gap-2 rounded-full border border-slate-200/80 bg-white/80 px-4 py-2
                  focus-within:border-red-400 focus-within:ring-4 focus-within:ring-red-500/15 transition">
        <span class="text-sm font-extrabold text-slate-700">$</span>
        <input
          id="monto-efectivo"
          type="number"
          class="w-full bg-transparent text-sm font-semibold text-slate-900 outline-none placeholder:text-slate-400"
          placeholder="0.00"
          step="0.01"
          min="0"
        />
      </div>

      <p class="text-[11px] text-slate-500/90">Lo que el cliente paga en billete.</p>
    </div>

    <!-- Monto en transferencia -->
    <div class="flex flex-col gap-1.5 rounded-2xl border border-slate-200/70 bg-white/65 p-4 shadow-sm">
      <label class="text-[11px] font-semibold tracking-wide text-slate-700/90 uppercase">
        Monto en transferencia
      </label>

      <div class="flex items-center gap-2 rounded-full border border-slate-200/80 bg-white/80 px-4 py-2
                  focus-within:border-red-400 focus-within:ring-4 focus-within:ring-red-500/15 transition">
        <span class="text-sm font-extrabold text-slate-700">$</span>
        <input
          id="monto-transferencia"
          type="number"
          class="w-full bg-transparent text-sm font-semibold text-slate-900 outline-none placeholder:text-slate-400"
          placeholder="0.00"
          step="0.01"
          min="0"
        />
      </div>

      <p class="text-[11px] text-slate-500/90">Lo que el cliente paga por transferencia / QR.</p>
    </div>

    <!-- Mensaje de ayuda / validaci√≥n -->
    <div class="md:col-span-2">
      <p id="ayuda-detalle-pago"
         class="text-[11px] text-slate-600/90 rounded-2xl border border-slate-200/70 bg-white/55 px-4 py-3">
        La suma de efectivo + transferencia debe coincidir con el total del pedido.
      </p>
    </div>

  </div>
</div>


    <!-- üëá PEG√Å EL SCRIPT AC√Å MISMO -->
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const tipoPago   = document.getElementById("tipo-pago");
    const bloque     = document.getElementById("bloque-detalle-pago");
    const totalInp   = document.getElementById("total-pedido");
    const efecInp    = document.getElementById("monto-efectivo");
    const transfInp  = document.getElementById("monto-transferencia");

    if (!tipoPago || !bloque) return;

    function num(el) {
      if (!el) return 0;
      const v = parseFloat((el.value || "").replace(",", "."));
      return isNaN(v) ? 0 : v;
    }

    function toggleBloque() {
      if (tipoPago.value === "COMBINADO") {
        bloque.classList.remove("hidden");
      } else {
        bloque.classList.add("hidden");
        if (efecInp)   efecInp.value   = "";
        if (transfInp) transfInp.value = "";
      }
    }

    function actualizarDesdeEfectivo() {
      if (tipoPago.value !== "COMBINADO") return;
      const total = num(totalInp);
      if (!total || !efecInp || !transfInp) return;

      let ef = num(efecInp);
      if (ef < 0) ef = 0;
      if (ef > total) ef = total;

      efecInp.value = ef;
      transfInp.value = (total - ef).toFixed(2);
    }

    function actualizarDesdeTransfer() {
      if (tipoPago.value !== "COMBINADO") return;
      const total = num(totalInp);
      if (!total || !efecInp || !transfInp) return;

      let tr = num(transfInp);
      if (tr < 0) tr = 0;
      if (tr > total) tr = total;

      transfInp.value = tr;
      efecInp.value = (total - tr).toFixed(2);
    }

    tipoPago.addEventListener("change", toggleBloque);
    if (efecInp)   efecInp.addEventListener("input", actualizarDesdeEfectivo);
    if (transfInp) transfInp.addEventListener("input", actualizarDesdeTransfer);

    if (totalInp) {
      totalInp.addEventListener("input", function () {
        if (tipoPago.value === "COMBINADO") {
          actualizarDesdeEfectivo();
        }
      });
    }

    // Estado inicial
    toggleBloque();
  });
  </script>
  


<!-- Variedades y cantidades -->
<div class="bg-transparent  p-4 space-y-3">
  <h4 class="text-sm font-semibold text-slate-800 mb-1">Variedades</h4>
  <p class="text-xs text-slate-500 mb-2">
    Ingres√° la cantidad de empanadas por cada sabor (dej√° en 0 las que no se piden).
  </p>

  <div class="grid grid-cols-1 md:grid-cols-6 gap-3 text-xs">
    <!-- 1: Criolla -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="1"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Criolla</span>
          <span class="text-[10px] text-slate-400">Cl√°sica de carne</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200"
        >
          Stock: 120
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button
          type="button"
          data-step="-1"
          data-target="var-1"
          class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition"
        >
          ‚Äì
        </button>
        <input
          id="var-1"
          type="number"
          min="0"
          value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0"
        />
        <button
          type="button"
          data-step="1"
          data-target="var-1"
          class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition"
        >
          +
        </button>
      </div>
    </div>

    <!-- 2: Verdura -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="2"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Verdura</span>
          <span class="text-[10px] text-slate-400">Espinaca y salsa blanca</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-50 text-amber-700 border border-amber-200"
        >
          Bajo stock (quedan 18)
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-2"
          class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-2" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-2"
          class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 3: Choclo -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="3"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Choclo</span>
          <span class="text-[10px] text-slate-400">Choclo cremoso</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200"
        >
          Stock: 80
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-3" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-3" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-3" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 4: Pollo -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="4"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Pollo</span>
          <span class="text-[10px] text-slate-400">Pollo desmenuzado</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-rose-50 text-rose-700 border border-rose-200"
        >
          Sin stock
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-4" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-4" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-4" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 5: At√∫n -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="5"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">At√∫n</span>
          <span class="text-[10px] text-slate-400">At√∫n y cebolla</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-50 text-amber-700 border border-amber-200"
        >
          Bajo stock (quedan 8)
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-5" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-5" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-5" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 6: Capresse -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="6"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Capresse</span>
          <span class="text-[10px] text-slate-400">Tomate, albahaca y mozzarella</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200"
        >
          Stock: 60
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-6" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-6" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-6" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 7: Fugazza -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="7"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Fugazza</span>
          <span class="text-[10px] text-slate-400">Cebolla caramelizada y queso</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200"
        >
          Stock: 95
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-7" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-7" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-7" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 8: Queso azul -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="8"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Queso azul</span>
          <span class="text-[10px] text-slate-400">Queso azul y nuez</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-50 text-amber-700 border border-amber-200"
        >
          Bajo stock (quedan 22)
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-8" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-8" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-8" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 9: Bondiola -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="9"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Bondiola</span>
          <span class="text-[10px] text-slate-400">Bondiola braseada</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200"
        >
          Stock: 130
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-9" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-9" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-9" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 10: Vacio Desmenuzado -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="10"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Vacio Desmenuzado</span>
          <span class="text-[10px] text-slate-400">Vac√≠o a la cerveza</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-50 text-amber-700 border border-amber-200"
        >
          Bajo stock (quedan 15)
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-10" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-10" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-10" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 11: Campo (picante) -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="11"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Campo (picante)</span>
          <span class="text-[10px] text-slate-400">Chorizo, morr√≥n y picante</span>
        </div>
        <span
          data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-rose-50 text-rose-700 border border-rose-200"
        >
          Sin stock
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-11" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-11" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-11" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>

    <!-- 12: Jam√≥n y queso -->
    <div
      class="group relative flex flex-col justify-between rounded-xl border border-slate-100 bg-gradient-to-br from-slate-50 to-slate-100/80 px-3 py-2.5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
      data-variedad-card
      data-variedad-id="12"
    >
      <div class="flex items-start justify-between gap-2">
        <div class="flex flex-col gap-0.5">
          <span class="font-semibold text-slate-800">Jam√≥n y queso</span>
          <span class="text-[10px] text-slate-400">Cl√°sica jam√≥n cocido y queso</span>
        </div>
        <span
        data-badge-stock
          class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-50 text-amber-700 border border-amber-200"
        >
          Bajo stock (quedan 30)
        </span>
      </div>

      <div class="mt-2 flex items-center justify-between gap-1">
        <button type="button" data-step="-1" data-target="var-12" class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-slate-200 bg-white text-[14px] font-semibold text-slate-600 hover:bg-slate-50 active:scale-95 transition">‚Äì</button>
        <input id="var-12" type="number" min="0" value="0"
          class="w-14 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white group-focus-within:border-rose-400"
          placeholder="0" />
        <button type="button" data-step="1" data-target="var-12" class="h-7 w-7 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[14px] font-semibold shadow-sm hover:bg-rose-600 active:scale-95 transition">+</button>
      </div>
    </div>
  </div>

  <div class="pt-4 flex justify-end">
    <button
      id="btn-crear-pedido"
      class="
        inline-flex items-center justify-center gap-2
        rounded-full
        bg-gradient-to-r from-rose-600 to-rose-500
        px-4 py-2
        text-xs font-semibold tracking-tight text-white
        shadow-sm shadow-rose-500/40
        hover:shadow-md hover:shadow-rose-500/60
        hover:-translate-y-0.5
        active:translate-y-0 active:scale-[0.98]
        focus-visible:outline-none
        focus-visible:ring-2 focus-visible:ring-rose-500/80
        focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900
        transition-all
      "
    >
      Crear pedido
    </button>
  </div>
</div>



</div>


<!-- SECCI√ìN STOCK -->
<div data-section="stock" class="space-y-5 hidden seccion">

  <!-- üîπ VISTA STOCK NORMAL (LO QUE YA TEN√çAS) -->
  <div id="vista-stock-normal" class="space-y-5">

    <!-- üîπ FORMULARIO PARA CARGAR PRODUCCI√ìN -->
    <div id="seccion-produccion" class="p-4 space-y-4 formulario-produccion-css">
      <div class="flex flex-wrap items-center justify-between gap-3 ">
        <div>
          <h4 class="text-sm font-semibold text-slate-800">Cargar producci√≥n del d√≠a</h4>
          <p class="text-[11px] text-slate-500">
            Eleg√≠ la fecha y la cantidad producida por variedad. Las que queden en 0 se toman como no producidas.
          </p>
        </div>

        <div class="flex items-center gap-2 text-xs">
          <label for="fecha-produccion" class="text-slate-600">Fecha de producci√≥n</label>
          <input
            id="fecha-produccion"
            type="date"
            class="border rounded-md px-2 py-1 text-xs bg-slate-50 border-slate-300
                   focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-slate-900"
          />
          <button type="button"
                  class="px-3 py-1.5 rounded-md border border-slate-300 text-slate-700 hover:bg-slate-50">
            Hoy
          </button>
        </div>
      </div>

      <!-- Grid de variedades (PRODUCCI√ìN) -->
      <div class="grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-3 text-xs">
        <!-- 1: Criolla -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="1"
          >
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/carne.png" alt="Criolla" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Criolla</p>
              <p class="text-[11px] text-slate-400">Carne cortada a cuchillo</p>
            </div>
          </div>

          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="1"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 2: Verdura -->
        <div class=" card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="2">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/verdura.png" alt="Verdura" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Verdura</p>
              <p class="text-[11px] text-slate-400">Acelga y salsa blanca</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="2"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 3: Choclo -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="3">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/choclo.png" alt="Choclo" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Choclo</p>
              <p class="text-[11px] text-slate-400">Humita cremosa</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="3"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 4: Pollo -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="4">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/pollo.png" alt="Pollo" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Pollo</p>
              <p class="text-[11px] text-slate-400">Pollo desmenuzado</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="4"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 5: At√∫n -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="5">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/atun.png" alt="At√∫n" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">At√∫n</p>
              <p class="text-[11px] text-slate-400">At√∫n y cebolla</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="5"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 6: Capresse -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="6">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/capresse.png" alt="Capresse" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Capresse</p>
              <p class="text-[11px] text-slate-400">Tomate, albahaca y muzza</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="6"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 7: Fugazza -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="7">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/fugazza.png" alt="Fugazza" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Fugazza</p>
              <p class="text-[11px] text-slate-400">Cebolla y queso</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="7"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 8: Queso azul -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="8">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/queso_azul.png" alt="Queso azul" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Queso azul</p>
              <p class="text-[11px] text-slate-400">Queso azul y muzza</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="8"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 9: Bondiola -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="9">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/bondiola.png" alt="Bondiola" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Bondiola</p>
              <p class="text-[11px] text-slate-400">Bondiola braseada</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="9"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 10: Vac√≠o desmenuzado -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="10">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/vacio.png" alt="Vac√≠o desmenuzado" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Vac√≠o desmenuzado</p>
              <p class="text-[11px] text-slate-400">Cocci√≥n lenta</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="10"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 11: Campo (picante) -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="11">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/campo.png" alt="Campo picante" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Campo (picante)</p>
              <p class="text-[11px] text-slate-400">Versi√≥n picante</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="11"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>

        <!-- 12: Jam√≥n y queso -->
        <div class="card-variedad group flex flex-col justify-between gap-3 rounded-2xl border border-slate-200 bg-slate-50/80 px-3 py-3
                    hover:bg-white hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer"
             data-variedad-card="12">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center">
              <img src="./variedades/jamon.png" alt="Jam√≥n y queso" class="h-full w-full object-cover">
            </div>
            <div>
              <p class="text-sm font-semibold text-slate-800">Jam√≥n y queso</p>
              <p class="text-[11px] text-slate-400">Cl√°sica</p>
            </div>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <span class="text-[11px] text-slate-500">Cantidad</span>
            <div class="inline-flex items-center gap-1">
              <input type="number"
                     min="0"
                     value="0"
                     data-variedad-id="12"
                     class="input-cantidad-variedad w-20 text-right border border-slate-200 rounded-md px-2 py-1 text-[12px] bg-white" />
            </div>
          </div>
        </div>
      </div>

      <div class="pt-2 flex gap-3 justify-end">
        <!-- Bot√≥n nuevo para ir a mermas -->
        <button id="btnAbrirModalMermas"
                class="inline-flex items-center gap-2
                       rounded-full border border-slate-300 bg-white
                       px-4 py-2
                       text-xs font-semibold tracking-tight text-slate-700
                       hover:bg-slate-50 hover:border-slate-400
                       transition-all">
          Cargar mermas
        </button>

        <!-- Bot√≥n guardar producci√≥n (ya lo ten√≠as) -->
        <button id="btn-guardar-produccion"
                class="ml-auto
                       inline-flex items-center gap-2
                       rounded-full
                       bg-gradient-to-r from-rose-600 to-rose-500
                       px-4 py-2
                       text-xs font-semibold tracking-tight text-white
                       shadow-sm shadow-rose-500/40
                       hover:shadow-md hover:shadow-rose-500/60
                       hover:-translate-y-0.5
                       active:translate-y-0 active:scale-[0.98]
                       focus-visible:outline-none
                       focus-visible:ring-2 focus-visible:ring-rose-500/80
                       focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900
                       transition-all">
                       
          Guardar producci√≥n
        </button>
      </div>
    </div>

 <!-- ‚úÖ TABLA STOCK (premium frame) -->
<div
  class="mt-6 overflow-hidden rounded-2xl border border-slate-200/70 bg-white
         shadow-[0_10px_30px_-18px_rgba(2,6,23,0.35)]
         ring-1 ring-black/5
         transition-all duration-300
         hover:shadow-[0_16px_40px_-22px_rgba(2,6,23,0.45)]
         hover:border-slate-300/70"
>
  <!-- Header premium -->
  <div
    class="px-5 py-4 border-b border-slate-200/70
           bg-gradient-to-r from-slate-50 via-white to-slate-50
           flex items-start justify-between gap-4"
  >
    <!-- Izquierda -->
    <div>
      <h4 class="text-sm font-semibold text-slate-900">Stock actual por variedad</h4>
      <p class="text-xs text-slate-500">√öltima producci√≥n y stock disponible</p>
    </div>

   <!-- Derecha -->
<div class="flex items-center gap-2 px-20">
  <!-- Bot√≥n -->
  <button
    id="btn-actualizar-tabla"
    class="h-9 inline-flex items-center gap-2 rounded-full border border-slate-200/80
           bg-white/80 px-3 text-xs font-semibold text-slate-700
           shadow-sm hover:bg-slate-50 hover:border-slate-300
           active:scale-[0.98] transition-all"
  >
    <span class="material-symbols-outlined text-[12px]">Actualizar </span>
    
  </button>

  <!-- Stock total -->
  <div
    class="inline-flex items-center gap-2 px-1 py-1 "
  >
    <span class="text-[10px] font-semibold uppercase tracking-wide text-slate-500">
      STOCK TOTAL
    </span>

    <span
      id="stock-total-num"
      class="text-[15px] font-extrabold bg-gradient-to-r from-emerald-600 to-teal-500
             text-transparent bg-clip-text  "
    >0</span>
  </div>
</div>

  </div>

  <!-- Tabla -->
  <div class="overflow-x-auto">
    <table class="w-full text-xs text-slate-700">
      <thead class="bg-slate-50/70 text-[11px] uppercase text-slate-500 border-b border-slate-200/70">
        <tr>
          <th class="px-4 py-2.5 text-left">Variedad</th>
          <th class="px-4 py-2.5 text-left">Fecha elabor.</th>
          <th class="px-4 py-2.5 text-right">Stock total elabor.</th>
          <th class="px-4 py-2.5 text-right">Disponible</th>
          <th class="px-4 py-2.5 text-center">Activo</th>
        </tr>
      </thead>
      <tbody id="tbody-stock-actual" class="bg-white"></tbody>
    </table>
  </div>

  <!-- Footer sutil (opcional, queda pro) -->
  <div class="px-5 py-3 border-t border-slate-200/60 bg-gradient-to-r from-white via-slate-50/40 to-white">
    <p class="text-[11px] text-slate-500">
      Consejo: rojo ‚â§ 50, amarillo ‚â§ 100, verde &gt; 100.
    </p>
  </div>
</div>

</div>
</div>

<!-- üìå SECCI√ìN CAJA -->
<div data-section="caja" class=" p-6 space-y-6 seccion">

 <!-- T√çTULO DE LA CAJA -->
<div class="w-full flex flex-col items-start gap-1 text-left">
  <h2 id="caja-dia-actual"
      class="text-[20px] font-semibold text-slate-700 tracking-tight caja-h2">
  </h2>

  <p id="caja-modo"
     class="text-[12px] text-slate-400 mt-1">
     Mostrando caja del d√≠a de hoy (autom√°tico)
  </p>

  <!-- FILTRO POR FECHA (M√ÅS COMPACTO) -->
<div class="inline-flex">
  <div class="flex flex-col gap-1.5">
    <label class="text-[11px] font-semibold text-slate-600">
      Fecha de caja
    </label>

    <div class="flex items-center gap-2">
      <input 
        type="date" 
        id="caja-fecha"
        class="h-9 w-44 border border-slate-200 rounded-lg px-2.5 text-xs bg-slate-50
               focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none">

      <button
        id="btn-ver-caja"
        class="h-9 inline-flex items-center justify-center gap-2
               rounded-full
               bg-gradient-to-r from-rose-600 to-rose-500
               px-4 text-xs font-semibold text-white
               shadow-sm hover:shadow-md hover:shadow-rose-500/40
               hover:-translate-y-0.5 active:translate-y-0
               transition-all">
        üîé Ver caja
      </button>
    </div>

    <p class="text-[11px] text-slate-500">
      Eleg√≠ una fecha y toc√° <b>Ver caja</b>.
    </p>
  </div>
</div>
</div>







  <!-- KPIs -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4">

  <!-- INGRESOS TOTALES -->
  <div class="group relative overflow-hidden rounded-[26px] p-5
              bg-gradient-to-b from-red-500 via-red-600 to-red-700
              border border-white/15 ring-1 ring-white/10
              shadow-[0_18px_45px_-30px_rgba(0,0,0,.65)]
              transform-gpu transition-all duration-300 ease-out
              hover:-translate-y-1 hover:scale-[1.03]
              hover:from-red-400 hover:via-red-600 hover:to-red-800
              hover:ring-2 hover:ring-white/20
              hover:shadow-[0_26px_70px_-38px_rgba(0,0,0,.85)]">

    <!-- brillo glass (m√°s fuerte al hover) -->
    <span class="pointer-events-none absolute inset-0
                 bg-gradient-to-br from-white/14 via-white/6 to-transparent
                 opacity-80 transition-opacity duration-300
                 group-hover:opacity-100"></span>

    <div class="relative flex items-center justify-between gap-4">
      <div class="min-w-0">
        <p class="text-[12px] font-semibold text-white/85">
          Ingresos totales (pedidos particulares)
        </p>

        <h2 id="kpi-ingresos-totales"
            class="mt-2 text-4xl font-extrabold tracking-tight text-white tabular-nums">
          $0
        </h2>

        <p id="badge-ingresos" class="mt-2 text-[11px] font-semibold text-white/75">
          ‚ñ≤ +0%
        </p>
      </div>

      <!-- SVG (l√≠nea / ingresos) -->
      <svg viewBox="0 0 120 44"
           class="h-10 w-24 opacity-70 transition-all duration-300
                  group-hover:opacity-90 group-hover:scale-[1.06]">
        <path d="M2 34 C 18 28, 30 18, 44 22 S 74 26, 92 14 S 106 22, 118 10"
              fill="none" stroke="rgba(255,255,255,.65)" stroke-width="3" stroke-linecap="round"/>
        <path d="M2 42 L2 34 C 18 28, 30 18, 44 22 S 74 26, 92 14 S 106 22, 118 10 L118 42 Z"
              fill="rgba(255,255,255,.10)"/>
      </svg>
    </div>
  </div>

  <!-- EFECTIVO -->
  <div class="group relative overflow-hidden rounded-[26px] p-5
              bg-gradient-to-b from-red-500 via-red-600 to-red-700
              border border-white/15 ring-1 ring-white/10
              shadow-[0_18px_45px_-30px_rgba(0,0,0,.65)]
              transform-gpu transition-all duration-300 ease-out
              hover:-translate-y-1 hover:scale-[1.03]
              hover:from-red-400 hover:via-red-600 hover:to-red-800
              hover:ring-2 hover:ring-white/20
              hover:shadow-[0_26px_70px_-38px_rgba(0,0,0,.85)]">

    <span class="pointer-events-none absolute inset-0
                 bg-gradient-to-br from-white/14 via-white/6 to-transparent
                 opacity-80 transition-opacity duration-300
                 group-hover:opacity-100"></span>

    <div class="relative flex items-center justify-between gap-4">
      <div class="min-w-0">
        <p class="text-[12px] font-semibold text-white/85">
          Ingresos en efectivo (particulares)
        </p>

        <h2 id="kpi-ingresos-efectivo"
            class="mt-2 text-4xl font-extrabold tracking-tight text-white tabular-nums">
          $0
        </h2>

        <p id="badge-efectivo" class="mt-2 text-[11px] font-semibold text-white/75">
          ‚ñ≤ +0%
        </p>
      </div>

      <!-- SVG (billete / efectivo) -->
      <svg viewBox="0 0 120 44"
           class="h-10 w-24 opacity-80 transition-all duration-300
                  group-hover:opacity-95 group-hover:scale-[1.06]">
        <rect x="10" y="10" width="100" height="24" rx="8"
              fill="rgba(255,255,255,.14)"
              stroke="rgba(255,255,255,.28)" stroke-width="2"/>
        <g stroke="rgba(255,255,255,.22)" stroke-width="2" stroke-linecap="round">
          <line x1="18" y1="16" x2="46" y2="16"></line>
          <line x1="18" y1="28" x2="46" y2="28"></line>
          <line x1="74" y1="16" x2="102" y2="16"></line>
          <line x1="74" y1="28" x2="102" y2="28"></line>
        </g>
        <circle cx="60" cy="22" r="7"
                fill="rgba(255,255,255,.18)"
                stroke="rgba(255,255,255,.45)" stroke-width="2"/>
        <text x="60" y="25" text-anchor="middle"
              font-size="10" font-weight="800"
              fill="rgba(255,255,255,.75)"
              font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial">
          $
        </text>
        <path d="M16 12 H104 Q110 12 110 18 V18 H10 V18 Q10 12 16 12 Z"
              fill="rgba(255,255,255,.10)"/>
      </svg>
    </div>
  </div>

  <!-- TRANSFERENCIA -->
  <div class="group relative overflow-hidden rounded-[26px] p-5
              bg-gradient-to-b from-red-500 via-red-600 to-red-700
              border border-white/15 ring-1 ring-white/10
              shadow-[0_18px_45px_-30px_rgba(0,0,0,.65)]
              transform-gpu transition-all duration-300 ease-out
              hover:-translate-y-1 hover:scale-[1.03]
              hover:from-red-400 hover:via-red-600 hover:to-red-800
              hover:ring-2 hover:ring-white/20
              hover:shadow-[0_26px_70px_-38px_rgba(0,0,0,.85)]">

    <span class="pointer-events-none absolute inset-0
                 bg-gradient-to-br from-white/14 via-white/6 to-transparent
                 opacity-80 transition-opacity duration-300
                 group-hover:opacity-100"></span>

    <div class="relative flex items-center justify-between gap-4">
      <div class="min-w-0">
        <p class="text-[12px] font-semibold text-white/85">
          Ingresos por transferencia (particular y pedidos ya)
        </p>

        <h2 id="kpi-ingresos-transferencias"
            class="mt-2 text-4xl font-extrabold tracking-tight text-white tabular-nums">
          $0
        </h2>

        <p id="badge-transferencias" class="mt-2 text-[11px] font-semibold text-white/75">
          ‚ñ≤ +0%
        </p>
      </div>

      <!-- SVG (wallet / billetera virtual) -->
      <svg viewBox="0 0 120 44"
           class="h-10 w-24 opacity-80 transition-all duration-300
                  group-hover:opacity-95 group-hover:scale-[1.06]">
        <rect x="10" y="8" width="34" height="28" rx="8"
              fill="rgba(255,255,255,.12)"
              stroke="rgba(255,255,255,.28)" stroke-width="2"/>
        <rect x="16" y="14" width="22" height="14" rx="4"
              fill="rgba(255,255,255,.10)"/>
        <circle cx="27" cy="32" r="2" fill="rgba(255,255,255,.45)"/>

        <rect x="44" y="12" width="66" height="22" rx="10"
              fill="rgba(255,255,255,.14)"
              stroke="rgba(255,255,255,.28)" stroke-width="2"/>
        <rect x="50" y="17" width="34" height="4" rx="2"
              fill="rgba(255,255,255,.20)"/>
        <rect x="50" y="24" width="14" height="7" rx="2"
              fill="rgba(255,255,255,.18)"
              stroke="rgba(255,255,255,.25)" stroke-width="1.5"/>

        <text x="96" y="27" text-anchor="middle"
              font-size="12" font-weight="900"
              fill="rgba(255,255,255,.75)"
              font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial">
          $
        </text>

        <path d="M18 10 H104 Q110 10 110 16 V16 H10 V16 Q10 10 18 10 Z"
              fill="rgba(255,255,255,.10)"/>
      </svg>
    </div>
  </div>

  <!-- EGRESOS -->
  <div class="group relative overflow-hidden rounded-[26px] p-5
              bg-gradient-to-b from-red-500 via-red-600 to-red-700
              border border-white/15 ring-1 ring-white/10
              shadow-[0_18px_45px_-30px_rgba(0,0,0,.65)]
              transform-gpu transition-all duration-300 ease-out
              hover:-translate-y-1 hover:scale-[1.03]
              hover:from-red-400 hover:via-red-600 hover:to-red-800
              hover:ring-2 hover:ring-white/20
              hover:shadow-[0_26px_70px_-38px_rgba(0,0,0,.85)]">

    <span class="pointer-events-none absolute inset-0
                 bg-gradient-to-br from-white/14 via-white/6 to-transparent
                 opacity-80 transition-opacity duration-300
                 group-hover:opacity-100"></span>

    <div class="relative flex items-center justify-between gap-4">
      <div class="min-w-0">
        <p class="text-[12px] font-semibold text-white/85">
          Egresos Totales (mermas del d√≠a y egresos varios)
        </p>

        <h2 id="kpi-mermas"
            class="mt-2 text-4xl font-extrabold tracking-tight text-white tabular-nums">
          $0
        </h2>

        <p id="badge-mermas" class="mt-2 text-[11px] font-semibold text-white/75">
          ‚ñº -0%
        </p>
      </div>

      <!-- SVG (l√≠nea bajando / egresos) -->
      <svg viewBox="0 0 120 44"
           class="h-10 w-24 opacity-70 transition-all duration-300
                  group-hover:opacity-90 group-hover:scale-[1.06]">
        <path d="M2 14 C 18 16, 30 18, 44 20 S 74 24, 92 28 S 106 30, 118 34"
              fill="none" stroke="rgba(255,255,255,.60)" stroke-width="3" stroke-linecap="round"/>
        <path d="M2 42 L2 14 C 18 16, 30 18, 44 20 S 74 24, 92 28 S 106 30, 118 34 L118 42 Z"
              fill="rgba(255,255,255,.10)"/>
      </svg>
    </div>
  </div>

</div>



<button 
  id="btn-pedidosya"
  class="relative group inline-flex items-center gap-2
         text-sm font-extrabold rounded-full
         bg-white text-red-600 border-2 border-red-600
         px-5 py-3 shadow-sm
         transition-all duration-200
         hover:scale-[1.03]
         hover:shadow-[0_12px_30px_-12px_rgba(239,68,68,0.55)]
         active:scale-[1.01]">

  <!-- Logo -->
  <img
    src="/icons/pedidosya.png"
    alt="PedidosYa"
    class="h-7 w-7 object-contain drop-shadow-sm
           transition-transform duration-200 group-hover:scale-110"
  />

  <span>PedidosYa</span>
</button>




  <!-- BALANCE FINAL -->
<div
  class="relative overflow-hidden p-6 rounded-2xl shadow-md border bg-white 
         flex flex-col items-center gap-1
         before:absolute before:inset-0 before:bg-gradient-to-br before:from-green-50 before:to-slate-50 before:opacity-30"
>
    <!-- Icono circular -->
    <div class="w-12 h-12 flex items-center justify-center rounded-full 
                bg-green-100 text-green-600 shadow-inner">
        üí∞
    </div>

    <p class="text-[14px] text-slate-600 font-semibold tracking-wide mt-1">
        Balance final del d√≠a
    </p>

    <h2 id="caja-balance"
        class="text-5xl font-extrabold mt-1 transition-all duration-300">
        $0
    </h2>

    <p class="text-[12px] text-slate-400 mt-1">
        Ingresos ‚Äì Egresos
    </p>
</div>


  <!-- BOT√ìN CERRAR CAJA -->
  <div class="text-right">
    <button
  id="btn-cerrar-caja"
  class="relative group inline-flex items-center justify-center gap-2
         rounded-2xl
         px-6 py-3
         text-sm font-semibold tracking-tight
         text-white
         bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900
         border border-white/10
         shadow-[0_10px_24px_rgba(0,0,0,.25)]
         hover:shadow-[0_16px_34px_rgba(0,0,0,.35)]
         hover:-translate-y-0.5
         active:translate-y-0 active:shadow-[0_10px_24px_rgba(0,0,0,.25)]
         transition-all duration-200
         focus:outline-none focus-visible:ring-4 focus-visible:ring-sky-500/30">

  <!-- Icono (opcional pero ayuda a ‚Äúentender‚Äù la acci√≥n) -->
  <span class="text-base group-hover:scale-110 transition-transform">üîí</span>

  <span>Cerrar caja </span>

  <!-- Glow suave -->
  <span class="pointer-events-none absolute -inset-0.5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity
               blur-md bg-white/10"></span>

  <!-- Shine al hover -->
  <span class="pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200
               bg-gradient-to-r from-transparent via-white/20 to-transparent"></span>

  <!-- Puntito ‚Äúimportante‚Äù -->
  <span class="ml-1 h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_12px_rgba(52,211,153,.8)]"></span>
</button>

  </div>



</div>


<!-- üìä SECCI√ìN ESTAD√çSTICAS -->
<div class="p-6 space-y-6 seccion hidden" data-section="estadisticas">

  <!-- üî∏ Filtro de fecha (d√≠a / mes) -->
  <div class="flex items-center justify-between gap-4 estadistica-titulo">
    <h2 id="estadistica-modo" class="text-[15px] font-semibold text-slate-700 mt-1">
      Est√°s viendo: estad√≠sticas del d√≠a
    </h2>

    <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-3">

      <!-- üëâ Filtro por d√≠a -->
      <div class="flex items-center gap-2">
        <span class="text-[11px] text-slate-500 hidden md:inline">Ver por d√≠a</span>
        <input type="date" id="estadistica-fecha"
          class="border border-slate-200 rounded-md px-2 py-1 text-xs text-slate-700
                 focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500" />

        <button id="btn-estadistica-fecha"
          class="inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-rose-600 to-rose-500
                 px-4 py-2 text-xs font-semibold tracking-tight text-white shadow-sm shadow-rose-500/40
                 hover:shadow-md hover:shadow-rose-500/60 hover:-translate-y-0.5
                 active:translate-y-0 active:scale-[0.98]">
          Ver d√≠a
        </button>
      </div>

      <!-- üëâ Filtro por mes -->
      <div class="flex items-center gap-2">
        <span class="text-[11px] text-slate-500 hidden md:inline">Ver por mes</span>

        <input type="month" id="estadistica-mes"
          class="border border-slate-200 rounded-md px-2 py-1 text-xs text-slate-700
                 focus:outline-none focus:ring-1 focus:ring-slate-800 focus:border-slate-800" />

        <button id="btn-estadistica-mes"
          class="inline-flex items-center gap-2 rounded-full bg-slate-800 px-4 py-2
                 text-xs font-semibold tracking-tight text-white shadow-sm shadow-slate-800/40
                 hover:shadow-md hover:shadow-slate-900/60 hover:-translate-y-0.5
                 active:translate-y-0 active:scale-[0.98]">
          Ver mes
        </button>
      </div>

    </div>
  </div>

 
<!-- KPIs ‚Äî estilo ‚Äúpill unidos‚Äù (Bien Criollas rojo) -->
<div class="rounded-[28px] p-2
            bg-gradient-to-b from-red-500 via-red-600 to-red-700
            shadow-[0_16px_40px_-24px_rgba(0,0,0,.55)]
            ring-1 ring-white/15">

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-2">

    <!-- Empanadas -->
    <div class="rounded-[22px] p-4
                bg-black/15 ring-1 ring-white/15
                hover:bg-black/20 transition-colors">
      <div class="flex items-center justify-between gap-4">
        <div class="min-w-0">
          <p class="text-[12px] font-semibold text-white/85">Empanadas vendidas</p>
          <h2 id="kpi-empanadas" class="mt-1 text-3xl font-extrabold tracking-tight text-white tabular-nums">0</h2>
          <p class="mt-1 text-[11px] text-white/60">Unidades</p>
        </div>

       <!-- mini bars (cantidad vendida) -->
<svg viewBox="0 0 120 44" class="h-10 w-24 opacity-85">
  <!-- base -->
  <line x1="2" y1="40" x2="118" y2="40" stroke="rgba(255,255,255,.22)" stroke-width="2" />
  
  <!-- barras -->
  <g fill="rgba(255,255,255,.55)">
    <rect x="8"  y="28" width="10" height="12" rx="3"></rect>
    <rect x="26" y="22" width="10" height="18" rx="3"></rect>
    <rect x="44" y="30" width="10" height="10" rx="3"></rect>
    <rect x="62" y="16" width="10" height="24" rx="3"></rect>
    <rect x="80" y="20" width="10" height="20" rx="3"></rect>
    <rect x="98" y="12" width="10" height="28" rx="3"></rect>
  </g>

  <!-- brillo suave arriba de las barras -->
  <g fill="rgba(255,255,255,.18)">
    <rect x="8"  y="28" width="10" height="4" rx="2"></rect>
    <rect x="26" y="22" width="10" height="4" rx="2"></rect>
    <rect x="44" y="30" width="10" height="4" rx="2"></rect>
    <rect x="62" y="16" width="10" height="4" rx="2"></rect>
    <rect x="80" y="20" width="10" height="4" rx="2"></rect>
    <rect x="98" y="12" width="10" height="4" rx="2"></rect>
  </g>
</svg>

      </div>
    </div>

    <!-- Pedidos -->
    <div class="rounded-[22px] p-4
                bg-black/15 ring-1 ring-white/15
                hover:bg-black/20 transition-colors">
      <div class="flex items-center justify-between gap-4">
        <div class="min-w-0">
          <p id="kpi-label-pedidos" class="text-[12px] font-semibold text-white/85">Pedidos del d√≠a</p>
          <h2 id="kpi-pedidos" class="mt-1 text-3xl font-extrabold tracking-tight text-white tabular-nums">0</h2>
          <p class="mt-1 text-[11px] text-white/60">Operaciones</p>
        </div>

        <!-- mini ‚Äúlista de pedidos‚Äù -->
<svg viewBox="0 0 120 44" class="h-10 w-24 opacity-85">
  <!-- marco tipo tarjeta -->
  <rect x="8" y="8" width="104" height="28" rx="8" fill="rgba(255,255,255,.10)" />
  <rect x="8" y="8" width="104" height="28" rx="8" fill="none" stroke="rgba(255,255,255,.20)" stroke-width="2"/>

  <!-- checks -->
  <g fill="none" stroke="rgba(255,255,255,.65)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
    <path d="M18 18 l3 3 l6 -7"></path>
    <path d="M18 26 l3 3 l6 -7"></path>
    <path d="M18 34 l3 3 l6 -7" opacity="0"></path> <!-- (oculto, por est√©tica) -->
  </g>

  <!-- l√≠neas de texto -->
  <g stroke="rgba(255,255,255,.55)" stroke-width="3" stroke-linecap="round">
    <line x1="34" y1="18" x2="98" y2="18"></line>
    <line x1="34" y1="26" x2="88" y2="26"></line>
    <line x1="34" y1="32" x2="78" y2="32" opacity=".55"></line>
  </g>

  <!-- puntito ‚Äúcontador‚Äù -->
  <circle cx="104" cy="14" r="3.5" fill="rgba(255,255,255,.65)"></circle>
</svg>

      </div>
    </div>

    <!-- Ingresos -->
    <div class="rounded-[22px] p-4
                bg-black/15 ring-1 ring-white/15
                hover:bg-black/20 transition-colors">
      <div class="flex items-center justify-between gap-4">
        <div class="min-w-0">
          <p id="kpi-label-ingresos" class="text-[12px] font-semibold text-white/85">Ingresos particular (diarios)</p>
          <h2 id="kpi-facturacion" class="mt-1 text-3xl font-extrabold tracking-tight text-white tabular-nums">$0</h2>
          <p class="mt-1 text-[11px] text-white/60">Bruto</p>
        </div>

        <svg viewBox="0 0 120 44" class="h-10 w-24 opacity-80">
          <path d="M2 34 C 20 32, 28 18, 44 20 S 74 24, 92 12 S 106 22, 118 8"
                fill="none" stroke="rgba(255,255,255,.65)" stroke-width="3" stroke-linecap="round"/>
          <path d="M2 42 L2 34 C 20 32, 28 18, 44 20 S 74 24, 92 12 S 106 22, 118 8 L118 42 Z"
                fill="rgba(255,255,255,.10)"/>
        </svg>
      </div>
    </div>

    <!-- PedidosYa -->
    <div class="rounded-[22px] p-4
                bg-black/15 ring-1 ring-white/15
                hover:bg-black/20 transition-colors">
      <div class="flex items-center justify-between gap-4">
        <div class="min-w-0">
          <p id="kpi-label-pedidosya" class="text-[12px] font-semibold text-white/85">PedidosYa (sin liquidar)</p>
          <h2 id="kpi-pedidosya" class="mt-1 text-3xl font-extrabold tracking-tight text-white tabular-nums">$0</h2>
          <p id="kpi-pedidosya-neto" class="mt-1 text-[11px] text-white/70 font-medium">
            ‚âà Neto estimado (30%): $0
          </p>
        </div>

        <svg viewBox="0 0 120 44" class="h-10 w-24 opacity-80">
          <path d="M2 28 C 18 8, 30 34, 46 18 S 76 20, 94 12 S 108 18, 118 10"
                fill="none" stroke="rgba(255,255,255,.65)" stroke-width="3" stroke-linecap="round"/>
          <path d="M2 42 L2 28 C 18 8, 30 34, 46 18 S 76 20, 94 12 S 108 18, 118 10 L118 42 Z"
                fill="rgba(255,255,255,.10)"/>
        </svg>
      </div>
    </div>

    <!-- Mermas -->
    <div class="rounded-[22px] p-4
                bg-black/15 ring-1 ring-white/15
                hover:bg-black/20 transition-colors">
      <div class="flex items-center justify-between gap-4">
        <div class="min-w-0">
          <p id="kpi-label-mermas-dinero" class="text-[12px] font-semibold text-white/85">P√©rdida por mermas (diaria)</p>
          <h2 id="kpi-mermas-dinero" class="mt-1 text-3xl font-extrabold tracking-tight text-white tabular-nums">$0</h2>
          <p class="mt-1 text-[11px] text-white/60">Costo</p>
        </div>

        <svg viewBox="0 0 120 44" class="h-10 w-24 opacity-80">
          <path d="M2 14 C 20 20, 30 10, 46 16 S 76 26, 94 22 S 108 30, 118 28"
                fill="none" stroke="rgba(255,255,255,.65)" stroke-width="3" stroke-linecap="round"/>
          <path d="M2 42 L2 14 C 20 20, 30 10, 46 16 S 76 26, 94 22 S 108 30, 118 28 L118 42 Z"
                fill="rgba(255,255,255,.10)"/>
        </svg>
      </div>
    </div>

  </div>
</div>





<!-- üìà Gr√°fico ‚Äî estilo ‚Äúsoft + glass‚Äù rojo -->
 <div class="group overflow-hidden">
  <!-- Header -->
  <div class="px-5 py-4 bg-transparent flex items-start justify-between gap-4">
    <div>
      <h3 class="text-sm font-extrabold tracking-tight text-slate-900">
      Ventas por variedad
      </h3>
      <p class="text-[11px] text-slate-500">
        Visualizaci√≥n de ventas seg√∫n sabor
      </p>
    </div>

    <!-- Chip -->
    <span
      class="inline-flex items-center gap-2 rounded-full
             border border-red-200/70 bg-white/70 backdrop-blur
             px-3 py-1 text-[10px] font-extrabold uppercase tracking-wide text-red-700
             shadow-sm"
    >
      <span class="h-2 w-2 rounded-full bg-red-500 shadow-[0_0_0_3px_rgba(239,68,68,.18)]"></span>
      Ventas
    </span>
  </div>

  <!-- Body (ranking horizontal) -->
  <div class="p-1 bg-transparent">
    <div class="relative mt-1 rounded-2xl bg-transparent overflow-hidden">

      <!-- glare suave -->
      <div class="pointer-events-none absolute inset-0">
        <div class="absolute -top-16 -left-16 h-44 w-44 rounded-full bg-white/35 blur-2xl"></div>
        <div class="absolute -bottom-20 -right-20 h-56 w-56 rounded-full bg-red-500/10 blur-3xl"></div>
        <div class="absolute inset-0 bg-gradient-to-br from-white/18 via-transparent to-transparent"></div>
      </div>

      <!-- ‚úÖ contenedor con scroll si hay muchas variedades -->
      <div class="relative p-3 max-h-[420px] overflow-y-auto">
        <!-- ‚úÖ altura m√≠nima para que el ranking se vea bien -->
        <div class="min-h-[340px]">
          <canvas id="graficoVariedades"></canvas>
        </div>
      </div>

    </div>
  </div>
</div>


<!-- Grilla donas -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">

  <!-- ‚úÖ DONA 1: Ingresos por medio de pago -->
  <div class="group overflow-hidden bg-transparent">
    <div class="px-5 py-4 bg-transparent flex items-start justify-between gap-4">
      <div>
        <h3 class="text-sm font-extrabold tracking-tight text-slate-900">
          Ingresos por medio de pago
        </h3>
        <p class="text-[11px] text-slate-500">
          Distribuci√≥n entre efectivo y transferencia.
        </p>
      </div>

      <span class="inline-flex items-center gap-2 rounded-full
                   border border-red-200/70 bg-white/70 backdrop-blur
                   px-3 py-1 text-[10px] font-extrabold uppercase tracking-wide text-red-700
                   shadow-sm">
        <span class="h-2 w-2 rounded-full bg-red-500 shadow-[0_0_0_3px_rgba(239,68,68,.18)]"></span>
        Distribuci√≥n
      </span>
    </div>

    <div class="p-1">
      <div class="relative h-[300px] bg-transparent overflow-hidden">
        <div class="pointer-events-none absolute inset-0">
          <div class="absolute -top-16 -left-16 h-44 w-44 rounded-full bg-white/35 blur-2xl"></div>
          <div class="absolute -bottom-20 -right-20 h-56 w-56 rounded-full "></div>
          <div class="absolute inset-0 bg-gradient-to-br from-white/18 via-transparent to-transparent"></div>
        </div>

        <div class="relative h-full p-3">
          <canvas id="graficoIngresosMedios"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚úÖ DONA 2: Pedidos por canal (Particular vs PedidosYa) -->
  <div class="group overflow-hidden bg-transparent">
    <div class="px-5 py-4 bg-transparent flex items-start justify-between gap-4">
      <div>
        <h3 class="text-sm font-extrabold tracking-tight text-slate-900">
          Pedidos por canal
        </h3>
        <p class="text-[11px] text-slate-500">
          Distribuci√≥n entre Particular y PedidosYa.
        </p>
      </div>

      <span class="inline-flex items-center gap-2 rounded-full
                   border border-red-200/70 bg-white/70 backdrop-blur
                   px-3 py-1 text-[10px] font-extrabold uppercase tracking-wide text-red-700
                   shadow-sm">
        <span class="h-2 w-2 rounded-full bg-red-500 shadow-[0_0_0_3px_rgba(239,68,68,.18)]"></span>
        Canales
      </span>
    </div>

    <div class="p-1">
      <div class="relative h-[300px] bg-transparent overflow-hidden">
        <div class="pointer-events-none absolute inset-0">
          <div class="absolute -top-16 -left-16 h-44 w-44 rounded-full bg-white/35 blur-2xl"></div>
          <div class="absolute -bottom-20 -right-20 h-56 w-56 rounded-full"></div>
          <div class="absolute inset-0 bg-gradient-to-br from-white/18 via-transparent to-transparent"></div>
        </div>

        <div class="relative h-full p-3">
          <canvas id="graficoCanalPedidos"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚úÖ DONA 3 / BLOQUE: Mermas por variedad (estilo Bien Criollas glass/red) -->
<div class="group overflow-hidden bg-transparent">
  <!-- Header -->
  <div class="px-5 py-4 bg-transparent flex items-start justify-between gap-4">
    <div>
      <h3 class="text-sm font-extrabold tracking-tight text-slate-900">
        Mermas por variedad
      </h3>
      <p class="text-[11px] text-slate-500">
        Cantidad desperdiciada por sabor.
      </p>
    </div>

    <!-- Chip -->
    <span
      class="inline-flex items-center gap-2 rounded-full
             border border-red-200/70 bg-white/70 backdrop-blur
             px-3 py-1 text-[10px] font-extrabold uppercase tracking-wide text-red-700
             shadow-sm"
    >
      <span class="h-2 w-2 rounded-full bg-red-500 shadow-[0_0_0_3px_rgba(239,68,68,.18)]"></span>
      Mermas
    </span>
  </div>

  <!-- Body -->
  <div class="p-1">
    <div class="relative h-[300px] bg-transparent overflow-hidden">
      <!-- glare suave -->
      <div class="pointer-events-none absolute inset-0">
        <div class="absolute -top-16 -left-16 h-44 w-44 rounded-full bg-white/35 blur-2xl"></div>
        <div class="absolute -bottom-20 -right-20 h-56 w-56 rounded-full "></div>
        <div class="absolute inset-0 bg-gradient-to-br from-white/18 via-transparent to-transparent"></div>
      </div>

      <div class="relative h-full p-3">
        <canvas id="graficoMermasVariedad"></canvas>
      </div>
    </div>
  </div>

</div>


</div>

 

</div>

<!-- ==========================
üü¶ SECCI√ìN: RESUMEN HIST√ìRICO
========================== -->
<div data-section="resumen-historico" class="hidden">
  <!-- Header -->
  <div class="mb-4 flex items-start justify-between gap-3">
<p class="text-sm text-slate-500">
  Vista consolidada del rendimiento del negocio a lo largo del tiempo.
</p>


    <!-- Estado / actualizar -->
    <div class="flex items-center gap-2">
      <span id="resumen-historico-estado"
            class="text-xs text-slate-500 bg-slate-100 border border-slate-200 px-2 py-1 rounded-lg">
        Listo para cargar
      </span>
    </div>
  </div>

<!-- KPIs (Resumen hist√≥rico) ‚Äî estilo premium + animaciones (mantiene IDs) -->
<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4">

    <!-- ABAJO: TOTAL (grande) -->
  <div class="xl:col-span-3">
    <!-- Total (VERDE premium) -->
    <div class="group relative overflow-hidden rounded-2xl border border-emerald-200 bg-white p-4 shadow-sm
                transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-emerald-300">
      <div class="pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
        <div class="absolute -left-1/2 top-0 h-full w-1/2 bg-gradient-to-r from-transparent via-white/50 to-transparent
                    skew-x-[-20deg] animate-[shine_1.2s_ease-in-out_1]"></div>
      </div>
      <div class="pointer-events-none absolute -top-24 -right-24 h-44 w-44 rounded-full bg-emerald-300/30 blur-3xl
                  opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

      <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="relative grid h-10 w-10 place-items-center rounded-2xl border border-emerald-200 bg-emerald-50">
            <span class="text-base transition-transform duration-300 group-hover:scale-110">üìà</span>
            <span class="absolute inset-0 rounded-2xl ring-0 ring-emerald-200/60 transition-all duration-300 group-hover:ring-4"></span>
          </div>

          <div class="min-w-0">
            <p class="text-xs font-semibold text-slate-600 truncate">Total acumulado</p>
            <p class="text-[11px] text-slate-400 truncate">Efectivo + Transferencia + PedidosYa</p>
          </div>
        </div>

        <span class="text-[10px] font-semibold text-emerald-700 bg-emerald-50 border border-emerald-200 px-2 py-1 rounded-full">
          TOTAL
        </span>
      </div>

      <p id="kpi-acum-total"
         class="mt-3 text-[26px] leading-none font-extrabold tracking-tight
                bg-gradient-to-r from-emerald-700 via-green-600 to-emerald-500 text-transparent bg-clip-text
                transition-transform duration-300 group-hover:scale-[1.04] origin-left">
        $0
      </p>

      <div class="mt-3 h-[3px] w-full rounded-full bg-emerald-50 overflow-hidden">
        <div class="h-full w-1/2 rounded-full bg-gradient-to-r from-emerald-600 to-green-500
                    transition-all duration-500 group-hover:w-full"></div>
      </div>
    </div>
  </div>

  <!-- ABAJO: EGRESOS (grande) -->
  <div class="xl:col-span-3">
    <!-- Egresos (ROJO premium) -->
    <div class="group relative overflow-hidden rounded-2xl border border-rose-200 bg-white p-4 shadow-sm
                transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-rose-300">
      <div class="pointer-events-none absolute -top-24 -right-24 h-44 w-44 rounded-full bg-rose-300/25 blur-3xl
                  opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

      <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="relative grid h-10 w-10 place-items-center rounded-2xl border border-rose-200 bg-rose-50">
            <span class="text-base transition-transform duration-300 group-hover:scale-110">üìâ</span>
            <span class="absolute inset-0 rounded-2xl ring-0 ring-rose-200/60 transition-all duration-300 group-hover:ring-4"></span>
          </div>

          <div class="min-w-0">
            <p class="text-xs font-semibold text-slate-600 truncate">Egresos acumulados</p>
            <p class="text-[11px] text-slate-400 truncate">Mermas + egresos (cajas cerradas)</p>
          </div>
        </div>

        <span class="text-[10px] font-semibold text-rose-700 bg-rose-50 border border-rose-200 px-2 py-1 rounded-full">
          EGRESO
        </span>
      </div>

      <p id="kpi-acum-egresos"
         class="mt-3 text-[26px] leading-none font-extrabold tracking-tight
                bg-gradient-to-r from-red-700 via-rose-600 to-rose-500 text-transparent bg-clip-text
                transition-transform duration-300 group-hover:scale-[1.04] origin-left">
        $0
      </p>

      <div class="mt-3 h-[3px] w-full rounded-full bg-rose-50 overflow-hidden">
        <div class="h-full w-1/2 rounded-full bg-gradient-to-r from-red-600 to-rose-500
                    transition-all duration-500 group-hover:w-full"></div>
      </div>
    </div>
  </div>
  <!-- ARRIBA: EFECTIVO -->
  <div class="xl:col-span-2">
    <!-- Efectivo -->
    <div class="group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-4 shadow-sm
                transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-slate-300">
      <div class="pointer-events-none absolute -top-24 -right-24 h-44 w-44 rounded-full bg-slate-200/40 blur-3xl
                  opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

      <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="relative grid h-10 w-10 place-items-center rounded-2xl border border-slate-200 bg-slate-50">
            <span class="text-base transition-transform duration-300 group-hover:scale-110">üíµ</span>
            <span class="absolute inset-0 rounded-2xl ring-0 ring-slate-200/60 transition-all duration-300 group-hover:ring-4"></span>
          </div>

          <div class="min-w-0">
            <p class="text-xs font-semibold text-slate-600 truncate">Efectivo acumulado</p>
            <p class="text-[11px] text-slate-400 truncate">Cajas cerradas</p>
          </div>
        </div>

      
      </div>

      <p id="kpi-acum-efectivo"
         class="mt-3 text-[26px] leading-none font-extrabold tracking-tight text-slate-900
                transition-transform duration-300 group-hover:scale-[1.03] origin-left">
        $0
      </p>

      <div class="mt-3 h-[3px] w-full rounded-full bg-slate-100 overflow-hidden">
        <div class="h-full w-1/2 rounded-full bg-slate-300 transition-all duration-500 group-hover:w-full"></div>
      </div>
    </div>
  </div>

  <!-- ARRIBA: TRANSFERENCIA -->
  <div class="xl:col-span-2">
    <!-- Transferencias -->
    <div class="group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-4 shadow-sm
                transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-slate-300">
      <div class="pointer-events-none absolute -top-24 -right-24 h-44 w-44 rounded-full bg-indigo-200/30 blur-3xl
                  opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

      <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="relative grid h-10 w-10 place-items-center rounded-2xl border border-indigo-200 bg-indigo-50">
           <img
  src="https://upload.wikimedia.org/wikipedia/commons/9/98/Mercado_Pago.svg"
  alt="Mercado Pago"
  class="h-6 w-6 object-contain transition-transform duration-300 group-hover:scale-110"
/>

            <span class="absolute inset-0 rounded-2xl ring-0 ring-indigo-200/60 transition-all duration-300 group-hover:ring-4"></span>
          </div>
          <div class="min-w-0">
            <p class="text-xs font-semibold text-slate-600 truncate">Transferencia acumulada</p>
            <p class="text-[11px] text-slate-400 truncate">Cajas cerradas</p>
          </div>
        </div>

      </div>

      <p id="kpi-acum-transferencia"
         class="mt-3 text-[26px] leading-none font-extrabold tracking-tight text-slate-900
                transition-transform duration-300 group-hover:scale-[1.03] origin-left">
        $0
      </p>

      <div class="mt-3 h-[3px] w-full rounded-full bg-slate-100 overflow-hidden">
        <div class="h-full w-1/2 rounded-full bg-indigo-300 transition-all duration-500 group-hover:w-full"></div>
      </div>
    </div>
  </div>

  <!-- ARRIBA: PEDIDOSYA -->
  <div class="xl:col-span-2">
    <!-- PedidosYa -->
    <div class="group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-4 shadow-sm
                transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-slate-300">
      <div class="pointer-events-none absolute -top-24 -right-24 h-44 w-44 rounded-full bg-emerald-200/25 blur-3xl
                  opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

      <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="relative grid h-10 w-10 place-items-center rounded-2xl border border-emerald-200 bg-emerald-50">
            <img
  src="https://upload.wikimedia.org/wikipedia/commons/6/60/PedidosYa_logo.svg"
  alt="PedidosYa"
  class="h-6 w-6 object-contain transition-transform duration-300 group-hover:scale-110"
/>


            <span class="absolute inset-0 rounded-2xl ring-0 ring-emerald-200/60 transition-all duration-300 group-hover:ring-4"></span>
          </div>
          <div class="min-w-0">
            <p class="text-xs font-semibold text-slate-600 truncate">PedidosYa acumulado</p>
            <p class="text-[11px] text-slate-400 truncate">Cajas cerradas</p>
          </div>
        </div>
      </div>

      <p id="kpi-acum-pedidosya"
         class="mt-3 text-[26px] leading-none font-extrabold tracking-tight text-slate-900
                transition-transform duration-300 group-hover:scale-[1.03] origin-left">
        $0
      </p>

      <div class="mt-3 h-[3px] w-full rounded-full bg-slate-100 overflow-hidden">
        <div class="h-full w-1/2 rounded-full bg-emerald-300 transition-all duration-500 group-hover:w-full"></div>
      </div>
    </div>
  </div>



</div>


<!-- Animaci√≥n "shine" (Tailwind arbitrary animation). Si no ten√©s keyframes, agreg√° este CSS 1 vez en tu CSS global:
@keyframes shine { from { transform: translateX(-120%) skewX(-20deg); } to { transform: translateX(220%) skewX(-20deg); } }
-->


</div>


<!-- SECCION HORARIOS EMPLEADOS -->
<div data-section="horarios"
     class="hidden p-6 bg-gradient-to-br from-slate-100 to-slate-50 min-h-screen">

  <!-- ================= CONTROLES ================= -->
<div class="mb-6  flex flex-col gap-4 div-controles-horarios">

  <!-- FILA SUPERIOR -->
  <div class="flex items-start justify-between gap-4">

    <!-- IZQUIERDA: TITULO + BOTON -->
    <div class="flex flex-col gap-3">

      <div>
        <h1 id="tituloDinamico"
            class="text-lg font-extrabold text-slate-900 tracking-tight">
          Control horario semanal
        </h1>
        <p class="text-sm text-slate-500">
          Gesti√≥n y registro de horas trabajadas por empleado
        </p>
      </div>

      <!-- BOT√ìN DEBAJO DEL TEXTO -->
      <button id="btnMarcarPagado"
              onclick="marcarSemanaPagada()"
              class="inline-flex w-fit items-center gap-2
                     rounded-xl px-4 py-2 text-sm font-semibold
                     bg-gradient-to-r from-emerald-600 to-emerald-500
                     hover:from-emerald-700 hover:to-emerald-600
                     text-white shadow-md hover:shadow-lg
                     active:scale-[0.97] transition-all">
        ‚úì Marcar semana como pagada
      </button>

    </div>

    <!-- DERECHA: SELECTOR DE SEMANA -->
    <div class="flex items-center gap-2 px-3 py-2">

      <button onclick="semanaAnterior()"
              class="h-8 w-8 rounded-lg 
                     flex items-center justify-center
                     hover:bg-slate-100 active:scale-95 transition">
        ‚Üê
      </button>

      <div class="px-4 py-1 rounded-full bg-white border border-slate-300
                  text-sm font-semibold text-slate-700 shadow-sm">
        <span id="horSemRango">--</span>
      </div>

      <button onclick="semanaSiguiente()"
              class="h-8 w-8 rounded-lg 
                     flex items-center justify-center
                     hover:bg-slate-100 active:scale-95 transition">
        ‚Üí
      </button>
    </div>

  </div>

</div>



  <!-- ================= KPIs POR EMPLEADO (DIN√ÅMICOS) ================= -->
  <!-- ACA PINTA cargarTotalesSemana() -->
  <div id="horKpisEmpleados"
       class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-6">
  </div>

  <!-- ================= TOTAL SEMANAL ================= -->
  <!-- ACA PINTA cargarTotalesSemana() -->
  <div id="horTotalSemana" class="mb-8"></div>

 

  <!-- ================= GRID HORARIOS ================= -->
  <div id="horGrid"
       class="bg-white rounded-2xl border border-slate-200 shadow-md p-5">
    <!-- JS carga la tabla -->
  </div>

</div>



<!-- SECCION EGRESOS -->
<div data-section="egreso" class="hidden p-1 from-slate-100 to-slate-50 min-h-screen ">


<div class="gap-2 div-egresos-titulo bg-transparent ">
  <h1 class="text-[16px] font-extrabold text-slate-900">
    Egresos acumulados del mes <span id="egresos-mes"></span>
  </h1>
  <p class="text-xs font-semibold text-slate-500">Suma total por categor√≠a desde el 1¬∞ del mes hasta hoy</p>
</div>


<div  class="p-6 space-y-10 
             bg-transparent">

  <!-- ===================== -->
  <!-- CARDS -->
  <!-- ===================== -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-transparent">

    <!-- PERSONAL -->
    <div class="group relative rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-sm
            transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-emerald-200">


  <div class="relative bg-gradient-to-r from-emerald-700 via-emerald-600 to-emerald-500 p-5 text-white text-center">
    <!-- Icono -->
    <div class="mx-auto mb-2 grid h-12 w-12 place-items-center rounded-2xl bg-white/15 ring-1 ring-white/20 shadow-sm
                transition-transform duration-300 group-hover:scale-110">
      <svg class="h-9 w-9" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M16 7V5a3 3 0 00-6 0v2M5 7h14l1 12H4L5 7z"/>
      </svg>
    </div>

    <!-- T√≠tulo -->
    <p class="font-extrabold text-base tracking-wide drop-shadow-sm">
      Egresos de Personal
    </p>
  </div>

  <div class="relative p-5 text-center">
    <div id="egreso-personal-total"
         class="text-3xl font-extrabold text-slate-900 tracking-tight transition-transform duration-300 group-hover:scale-[1.02]">
      $120.000
    </div>
    <div id="egreso-personal-pct"
     class="mt-2 inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1
            text-xs font-extrabold text-emerald-700">
  ‚Äî%
</div>
  </div>
</div>



    <!-- PRODUCCI√ìN -->
    <div class="group relative rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-sm
            transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-orange-200">

  <span class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full bg-orange-400/25 blur-2xl
               transition-opacity duration-300 opacity-0 group-hover:opacity-100"></span>
  <span class="pointer-events-none absolute inset-0 bg-gradient-to-br from-orange-50/60 via-white to-white opacity-0
               transition-opacity duration-300 group-hover:opacity-100"></span>

  <div class="relative bg-gradient-to-r from-orange-600 via-orange-500 to-amber-400 p-5 text-white text-center">
    <div class="mx-auto mb-2 grid h-12 w-12 place-items-center rounded-2xl bg-white/15 ring-1 ring-white/20 shadow-sm
                transition-transform duration-300 group-hover:scale-110">
      <svg class="h-9 w-9" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M20 13V7a2 2 0 00-2-2H6a2 2 0 00-2 2v6M3 13h18M7 13v6m10-6v6"/>
      </svg>
    </div>

    <p class="font-extrabold text-base tracking-wide drop-shadow-sm">
      Egresos de Producci√≥n
    </p>
  </div>

  <div class="relative p-5 text-center">
    <div id="egreso-produccion-total"
         class="text-3xl font-extrabold text-slate-900 tracking-tight transition-transform duration-300 group-hover:scale-[1.02]">
      $85.500
    </div>
    <div id="egreso-produccion-pct"
     class="mt-2 inline-flex items-center gap-2 rounded-full border border-orange-200 bg-orange-50 px-3 py-1
            text-xs font-extrabold text-orange-700">
  ‚Äî%
</div>

  </div>
</div>

<!-- DIA A DIA -->
   <div class="group relative rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-sm
            transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-blue-200">

  <span class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full bg-blue-400/25 blur-2xl
               transition-opacity duration-300 opacity-0 group-hover:opacity-100"></span>
  <span class="pointer-events-none absolute inset-0 bg-gradient-to-br from-blue-50/60 via-white to-white opacity-0
               transition-opacity duration-300 group-hover:opacity-100"></span>

  <div class="relative bg-gradient-to-r from-blue-700 via-blue-600 to-sky-500 p-5 text-white text-center">
    <div class="mx-auto mb-2 grid h-12 w-12 place-items-center rounded-2xl bg-white/15 ring-1 ring-white/20 shadow-sm
                transition-transform duration-300 group-hover:scale-110">
      <svg class="h-9 w-9" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 9l9-7 9 7v11a2 2 0 01-2 2h-4a2 2 0 01-2-2V12H9v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
      </svg>
    </div>

    <p class="font-extrabold text-base tracking-wide drop-shadow-sm">
      Egresos del D√≠a a D√≠a
    </p>
  </div>

  <div class="relative p-5 text-center">
    <div id="egreso-dia-total"
         class="text-3xl font-extrabold text-slate-900 tracking-tight transition-transform duration-300 group-hover:scale-[1.02]">
      $30.000
    </div>
    <div id="egreso-dia-pct"
     class="mt-2 inline-flex items-center gap-2 rounded-full border border-blue-200 bg-blue-50 px-3 py-1
            text-xs font-extrabold text-blue-700">
  ‚Äî%
</div>

  </div>
</div>



  </div>

  <!-- ===================== -->
  <!-- BOTONES -->
  <!-- ===================== -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

    <button
  id="btn-egreso-personal"
  class="group relative flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-6 py-3
         text-sm font-extrabold text-slate-800 shadow-sm transition-all duration-300
         hover:-translate-y-0.5 hover:shadow-lg hover:border-red-200">
  <!-- glow -->
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 blur-xl transition-opacity duration-300
               group-hover:opacity-60 group-hover:bg-gradient-to-r group-hover:from-red-600/30 group-hover:to-red-400/30"></span>

  <!-- fondo hover -->
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 transition-opacity duration-300
               group-hover:opacity-100 bg-gradient-to-r from-red-700 to-red-500"></span>

  <span class="relative flex items-center gap-2">
   
    <span class="transition-colors duration-300 group-hover:text-white">Cargar Egreso de Personal</span>
  </span>
</button>

<button
  id="btn-egreso-produccion"
  class="group relative flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-6 py-3
         text-sm font-extrabold text-slate-800 shadow-sm transition-all duration-300
         hover:-translate-y-0.5 hover:shadow-lg hover:border-red-200">
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 blur-xl transition-opacity duration-300
               group-hover:opacity-60 group-hover:bg-gradient-to-r group-hover:from-red-600/30 group-hover:to-red-400/30"></span>
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 transition-opacity duration-300
               group-hover:opacity-100 bg-gradient-to-r from-red-700 to-red-500"></span>

  <span class="relative flex items-center gap-2">
    <span class="transition-colors duration-300 group-hover:text-white">Cargar Egreso de Producci√≥n</span>
  </span>
</button>

<button
  id="btn-egreso-dia"
  class="group relative flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white px-6 py-3
         text-sm font-extrabold text-slate-800 shadow-sm transition-all duration-300
         hover:-translate-y-0.5 hover:shadow-lg hover:border-red-200">
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 blur-xl transition-opacity duration-300
               group-hover:opacity-60 group-hover:bg-gradient-to-r group-hover:from-red-600/30 group-hover:to-red-400/30"></span>
  <span class="pointer-events-none absolute inset-0 rounded-full opacity-0 transition-opacity duration-300
               group-hover:opacity-100 bg-gradient-to-r from-red-700 to-red-500"></span>

  <span class="relative flex items-center gap-2">
    
    <span class="transition-colors duration-300 group-hover:text-white">Cargar Egreso del D√≠a a D√≠a</span>
  </span>
</button>


  </div>

  <!-- ===================== -->
  <!-- TABLA -->
  <!-- ===================== -->
  <!-- ===================== -->
<!-- √öLTIMOS EGRESOS (Actividad reciente) -->
<!-- ===================== -->
<div class="relative overflow-visible rounded-3xl border border-transparent bg-transparent shadow-none">

  <!-- decor / glow MUY suave (opcional) -->
  <span class="pointer-events-none absolute -top-24 -right-24 h-72 w-72 rounded-full bg-red-500/10 blur-3xl"></span>
  <span class="pointer-events-none absolute -bottom-28 -left-28 h-80 w-80 rounded-full bg-sky-500/10 blur-3xl"></span>

  <!-- Header TRANSPARENTE -->
  <div class="relative px-2 md:px-3 py-3 border-b border-transparent bg-transparent">
    <div class="flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div>
          <h2 class="text-base font-extrabold text-slate-950 tracking-tight">
            Actividad de hoy
          </h2>
          <p class="text-xs font-semibold text-slate-500">
            √öltimos egresos cargados (vista r√°pida)
          </p>
        </div>
      </div>

      <button type="button" onclick="window.refrescarEgresos?.()"
        class="group inline-flex items-center gap-2 rounded-full border border-slate-200/70 bg-white/60 px-4 py-2 text-xs font-extrabold text-slate-700
               shadow-sm hover:shadow-md transition-all hover:-translate-y-[1px] active:translate-y-0 backdrop-blur">
        <span class="inline-block transition-transform duration-300 group-hover:rotate-180">‚ü≤</span>
        Actualizar
      </button>
    </div>
  </div>

  <!-- Body TRANSPARENTE -->
  <div class="relative px-0 md:px-1 py-2 bg-transparent">
    <!-- Labels mini (transparentes) -->
    <div class="px-2 pb-2 text-[11px] font-extrabold tracking-wide text-slate-400 uppercase grid grid-cols-[180px_140px_1fr_180px] gap-2">
      <div>Hora</div>
      <div>Tipo</div>
      <div>Detalle</div>
      <div class="text-right">Monto</div>
    </div>

    <!-- ‚ÄúTabla‚Äù sin fondo (las filas hacen todo el look) -->
    <table class="w-full text-sm border-separate border-spacing-y-3">
      <tbody id="tabla-egresos-body">
        <!-- se llena por JS -->
      </tbody>
    </table>
  </div>

  <!-- Footer TRANSPARENTE -->
  <div class="relative px-2 md:px-3 py-2 border-t border-transparent bg-transparent">
    <div class="text-[11px] font-semibold text-slate-500">
      Esta vista muestra solo hoy. El historial completo est√° abajo por categor√≠a.
    </div>
  </div>
</div>



  <!-- ===================== -->
<!-- TABLA (POR TIPO + PAGINADO) -->
<!-- ===================== -->
<div class=" bg-transparen overflow-hidden">

  <!-- HEADER premium -->
  <div class="px-2 md:px-3 py-3 border-b border-transparent bg-transparent">
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">

    <div class="flex items-start gap-3">
      <div class="h-10 w-10 rounded-2xl bg-slate-900/90 text-white grid place-items-center text-lg shadow-sm">
        üìå
      </div>
      <div>
        <h2 class="text-base md:text-lg font-extrabold leading-tight text-slate-950">
          Historial de egresos por categor√≠a
        </h2>
        <p class="text-xs font-semibold text-slate-500 mt-0.5">
          Filtr√° por Personal / Producci√≥n / D√≠a a d√≠a y naveg√° por p√°ginas.
        </p>
      </div>
    </div>

    <!-- filtro (glass) -->
    <div class="flex items-center gap-2">
      <span class="text-xs font-extrabold text-slate-700">Categor√≠a</span>
      <select id="filtro-egreso-tipo"
        class="rounded-full border border-slate-200/70 bg-white/60 backdrop-blur px-4 py-2 text-sm font-extrabold text-slate-900
               shadow-sm hover:bg-white/80 transition focus:outline-none focus:ring-2 focus:ring-red-200">
        <option value="PERSONAL">PERSONAL</option>
        <option value="PRODUCCION">PRODUCCION</option>
        <option value="OTROS">OTROS</option>
      </select>
    </div>

  </div>
</div>


  <!-- TABLE WRAP (estilo card premium como el ejemplo) -->
<div class="p-4 md:p-5 border-b border-transparent bg-transparent">
  <div class="overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-[0_18px_55px_-40px_rgba(15,23,42,.35)]">

    <table class="w-full text-sm">
      <!-- header minimal -->
      <thead class="bg-white text-slate-500">
        <tr class="border-b border-slate-100">
          <th class="px-5 py-4 text-left text-[12px] font-extrabold tracking-wide uppercase">Fecha</th>
          <th class="px-5 py-4 text-left text-[12px] font-extrabold tracking-wide uppercase">Tipo</th>
          <th class="px-5 py-4 text-left text-[12px] font-extrabold tracking-wide uppercase">Detalle</th>
          <th class="px-5 py-4 text-right text-[12px] font-extrabold tracking-wide uppercase">Monto</th>
        </tr>
      </thead>

      <!-- ‚úÖ MISMO ID -->
      <tbody id="tabla-egresos-tipo-body"
             class="[&>tr]:border-b [&>tr]:border-slate-100 [&>tr:last-child]:border-b-0
                    [&>tr]:transition-all [&>tr]:duration-200
                    [&>tr:hover]:bg-red-50/60
                    [&>tr:hover]:shadow-[inset_0_0_0_1px_rgba(239,68,68,.18)]
                    [&>tr:hover]:scale-[1.002]">
        <!-- se llena por JS -->
      </tbody>
    </table>
  </div>

  <!-- FOOTER premium (lo tuyo, apenas pulido para que combine con el estilo de la tabla) -->
  <div class="mt-4 px-1 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
    <!-- info -->
    <div class="inline-flex items-center gap-2 text-xs font-extrabold text-slate-700">
      <span class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1.5 shadow-sm">
        <span class="h-2 w-2 rounded-full bg-red-600"></span>
        <span id="egresos-tipo-page-info">P√°gina 1 / 1</span>
      </span>

      <span class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1.5 shadow-sm">
        <span class="text-slate-400">‚Ä¢</span>
        <span id="egresos-tipo-total">0 resultados</span>
      </span>
    </div>

    <!-- dots -->
    <div class="flex items-center justify-center gap-2">
      <div id="egresos-tipo-dots" class="flex items-center justify-center gap-2"></div>
    </div>

    <!-- flechas -->
    <div class="flex items-center justify-end gap-2">
      <button id="egresos-tipo-prev"
        class="h-10 w-10 rounded-full border border-slate-200 bg-white grid place-items-center font-black text-slate-800
               shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md hover:border-red-200 hover:bg-red-50
               disabled:opacity-40 disabled:cursor-not-allowed"
        title="Anterior" aria-label="Anterior">‚Üê</button>

      <button id="egresos-tipo-next"
        class="h-10 w-10 rounded-full border border-slate-200 bg-white grid place-items-center font-black text-slate-800
               shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md hover:border-red-200 hover:bg-red-50
               disabled:opacity-40 disabled:cursor-not-allowed"
        title="Siguiente" aria-label="Siguiente">‚Üí</button>
    </div>
  </div>
</div>

</div>







</div>

</div>


</section>




    </main>

    <!-- ===================== -->
<!-- MODAL EGRESO (reutilizable) -->
<!-- ===================== -->
<div id="modalEgreso" class="fixed left-0 top-0 w-screen h-screen hidden items-center justify-center bg-black/10 backdrop-blur-sm z-[999999]">
  <div class="w-[94%] max-w-md rounded-2xl bg-white shadow-2xl  overflow-hidden">
    <!-- Header (ROJO) -->
    <div class="px-5 py-4 bg-gradient-to-r from-red-700 to-red-600 text-white">
      <div class="flex items-start justify-between gap-3">
        <div>
          <h3 id="modalEgresoTitle" class="text-base font-extrabold">Cargar egreso</h3>
          <p id="modalEgresoSubtitle" class="text-xs text-white/85 mt-0.5">Complet√° detalle y monto</p>
        </div>
        <button id="btnCerrarModalEgreso"
          class="h-9 w-9 rounded-full bg-white/15 hover:bg-white/25 grid place-items-center font-black transition"
          aria-label="Cerrar">‚úï</button>
      </div>
    </div>

    <!-- Body -->
    <form id="formEgreso" class="p-5 space-y-4">
      <!-- error -->
      <div id="modalEgresoError" class="hidden rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs font-semibold text-red-700"></div>

      <div>
        <label class="block text-xs font-bold text-slate-700">Detalle</label>
        <input id="egresoDescripcion" type="text" maxlength="255"
          class="mt-1 w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900
                 focus:outline-none focus:ring-2 focus:ring-red-200"
          placeholder="Ej: Pago empleado, cajas, verdura..." required />
        <p id="errDesc" class="mt-1 hidden text-[11px] font-bold text-red-600"></p>
      </div>

      <div>
        <label class="block text-xs font-bold text-slate-700">Monto</label>
        <div class="mt-1 flex items-center gap-2">
          <span class="px-3 py-2 rounded-2xl border border-slate-200 bg-slate-50 text-sm font-extrabold text-slate-700">$</span>
          <input id="egresoMonto" type="number" step="0.01" min="0"
            class="w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900
                   focus:outline-none focus:ring-2 focus:ring-red-200"
            placeholder="0.00" required />
        </div>
        <p id="errMonto" class="mt-1 hidden text-[11px] font-bold text-red-600"></p>
      </div>

      <!-- Footer (PASTILLA) -->
      <div class="pt-2 flex items-center justify-end gap-2">
        <button type="button" id="btnCancelarEgreso"
          class="rounded-full border border-slate-200 bg-white px-5 py-2 text-sm font-extrabold text-slate-700 hover:bg-slate-50 transition">
          Cancelar
        </button>

        <button type="submit" id="btnGuardarEgreso"
          class="rounded-full bg-red-600 px-5 py-2 text-sm font-extrabold text-white hover:bg-red-700 transition shadow-sm">
          Guardar egreso
        </button>
      </div>
    </form>
  </div>
</div>


<!-- Modal detalle pedido -->
<div id="modal-detalle"
     class="fixed inset-0 z-40 flex items-center justify-center bg-black/30 hidden">
  <div class="bg-white rounded-xl shadow-lg w-full max-w-sm">

    <!-- Header -->
    <div class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
      <h3 class="text-sm font-semibold text-slate-800">
        Detalle del pedido
      </h3>
      <button onclick="cerrarModalDetalle()"
              class="text-slate-400 hover:text-slate-600 text-lg leading-none">
        ‚úï
      </button>
    </div>

    <!-- Cuerpo -->
    <div class="p-4 space-y-4">
      <!-- Cliente -->
      <div class="text-sm text-slate-600">
        <span class="font-semibold">Cliente:</span>
        <span id="detalle-cliente" class="ml-1 text-slate-900"></span>
      </div>

      <!-- Variedades / Cantidades -->
      <div>

        <table class="w-full text-xs">
          <thead class="border-b border-slate-200 text-slate-500">
            <tr>
              <th class="text-left py-1.5">Variedad</th>
              <th class="text-right py-1.5">Cantidad</th>
            </tr>
          </thead>
          <tbody id="tbody-detalle"></tbody>
        </table>
      </div>

      <!-- Total del pedido -->
      <div class="flex justify-end text-sm text-slate-700">
        <span class="font-semibold mr-1">Total:</span>
        <span id="detalle-total" class="font-bold text-slate-900"></span>
      </div>

      <!-- Botones -->
      <div class="flex justify-end gap-2 pt-2">
        <button onclick="cerrarModalDetalle()"
                class="text-xs px-3 py-1.5 rounded-md border border-slate-300 text-slate-600 hover:bg-slate-50">
          Cerrar
        </button>

        <button onclick="imprimirTicket()"
                class="text-xs px-3 py-1.5 rounded-md bg-slate-900 text-white hover:bg-slate-800">
          Imprimir comanda
        </button>
      </div>
    </div>
  </div>
</div>

<div id="modalTurno" 
     class="fixed inset-0 bg-black/30 z-[999] hidden flex items-center justify-center">
  
  <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 animate-fadeIn">
    
    <div class="flex justify-between items-center mb-4">
      <h2 id="modalTurnoTitulo" class="text-lg font-semibold text-slate-800">
        Nuevo turno
      </h2>
      <button onclick="cerrarModalTurno()" class="text-slate-400 hover:text-slate-600 text-xl">‚úï</button>
    </div>

    <div class="space-y-4">
      
      <!-- Empleado -->
      <div>
        <label class="text-xs text-slate-600 font-medium">Empleado</label>
        <select id="turnoEmpleado" 
                class="w-full border rounded-md px-3 py-2 text-sm mt-1">
        </select>
      </div>

      <!-- Fecha -->
      <div>
        <label class="text-xs text-slate-600 font-medium">Fecha</label>
        <input id="turnoFecha" type="date"
               class="w-full border rounded-md px-3 py-2 text-sm mt-1">
      </div>

      <!-- Hora inicio -->
      <div>
        <label class="text-xs text-slate-600 font-medium">Hora inicio</label>
        <input id="turnoInicio" type="time"
               class="w-full border rounded-md px-3 py-2 text-sm mt-1">
      </div>

      <!-- Hora fin -->
      <div>
        <label class="text-xs text-slate-600 font-medium">Hora fin</label>
        <input id="turnoFin" type="time"
               class="w-full border rounded-md px-3 py-2 text-sm mt-1">
      </div>

    </div>

    <div class="flex justify-between items-center gap-2 mt-6">

      <button id="btnEliminarTurno"
              class="hidden px-3 py-2 text-sm rounded-md text-red-600 border border-red-300 hover:bg-red-50">
        Eliminar
      </button>

      <div class="ml-auto flex gap-2">
        <button onclick="cerrarModalTurno()"
                class="px-4 py-2 text-sm border rounded-md hover:bg-slate-50">
          Cancelar
        </button>

        <button id="btnGuardarTurno" onclick="guardarTurno()"
                class="px-4 py-2 bg-slate-900 text-white rounded-md text-sm hover:bg-slate-800">
          Guardar
        </button>
      </div>

    </div>

  </div>
</div>

<!-- Modal PedidosYa -->
<div id="modal-pedidosya" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center">
  <div class="bg-white rounded-xl p-5 w-80 shadow-lg">

    <h2 class="text-sm font-semibold text-slate-800 mb-3">Registrar liquidaci√≥n PedidosYa</h2>

    <label class="text-xs text-slate-600">Fecha recibida:</label>
    <input id="py-fecha" type="date" class="w-full border rounded-full px-2 py-1 mt-1 mb-3 text-xs">

    <label class="text-xs text-slate-600">Monto recibido:</label>
    <input id="py-monto" type="number" min="0" class="w-full border rounded-full px-2 py-1 mt-1 mb-4 text-xs">

    <div class="flex justify-end gap-2">
      <button id="py-cancelar" class="text-xs px-3 py-1 rounded-full bg-slate-300 hover:bg-slate-400">
        Cancelar
      </button>
      <button id="py-guardar" class="text-xs px-3 py-1 rounded-full bg-purple-600 text-white hover:bg-red-500">
        Guardar
      </button>
    </div>

  </div>
</div>

<!-- Modal tipo de pago -->
<div id="modalPago" class="fixed inset-0 hidden items-center justify-center bg-black/40 z-[9999]">
  <div class="w-[92%] max-w-md rounded-2xl bg-white p-5 shadow-xl">
    <div class="flex items-center justify-between">
      <h3 class="text-base font-extrabold text-slate-900">Cambiar tipo de pago</h3>
      <button id="btnCerrarPago" class="rounded-full px-2 py-1 text-slate-500 hover:bg-slate-100">‚úï</button>
    </div>

    <div class="mt-4 space-y-3">
      <label class="block">
        <span class="text-xs font-semibold text-slate-700">Tipo</span>
        <select id="pagoTipo" class="mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm">
          <option value="EFECTIVO">Efectivo</option>
          <option value="TRANSFERENCIA">Transferencia</option>
          <option value="COMBINADO">Combinado</option>
        </select>
      </label>

      <!-- Solo aparece si es COMBINADO -->
      <div id="bloqueCombinado" class="hidden rounded-xl border border-slate-200 bg-slate-50 p-3">
        <p class="text-[11px] text-slate-600 mb-2">
          Ingres√° montos. (Efectivo + Transferencia)
        </p>

        <div class="grid grid-cols-2 gap-2">
          <label class="block">
            <span class="text-[11px] font-semibold text-slate-700">Efectivo</span>
            <input id="mEfe" type="number" min="0" step="0.01"
                   class="mt-1 w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-sm" />
          </label>

          <label class="block">
            <span class="text-[11px] font-semibold text-slate-700">Transferencia</span>
            <input id="mTra" type="number" min="0" step="0.01"
                   class="mt-1 w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-sm" />
          </label>
        </div>

        <p id="sumaInfo" class="mt-2 text-[11px] font-semibold text-slate-700"></p>
      </div>

      <p id="pagoError" class="hidden text-xs font-semibold text-red-600"></p>

      <div class="mt-2 flex gap-2 justify-end">
        <button id="btnCancelarPago" class="rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50">
          Cancelar
        </button>
        <button id="btnGuardarPago" class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800">
          Guardar
        </button>
      </div>
    </div>
  </div>
</div>



<!-- üî¥ MODAL EGRESO -->
<div id="modal-egreso" 
     class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center hidden z-50">

  <div class="bg-white w-80 rounded-xl shadow p-4 animate-fadeIn">

    <h2 class="text-sm font-semibold mb-3">Registrar egreso</h2>

    <div class="space-y-3">
      
      <div>
        <label class="text-xs text-slate-600">Descripci√≥n</label>
        <input id="egreso-descripcion"
               type="text"
               class="w-full mt-1 px-2 py-1 rounded-md border border-slate-300 text-xs">
      </div>

      <div>
        <label class="text-xs text-slate-600">Monto</label>
        <input id="egreso-monto"
               type="number"
               class="w-full mt-1 px-2 py-1 rounded-md border border-slate-300 text-xs">
      </div>

    </div>

    <div class="flex justify-end gap-2 mt-4">
      <button id="btn-cerrar-egreso"
              class="px-3 py-1 text-xs bg-slate-200 rounded-md hover:bg-slate-300">
        Cancelar
      </button>

      <button id="btn-guardar-egreso"
              class="px-3 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700">
        Guardar
      </button>
    </div>

  </div>
</div>

<!-- üîî MODAL CONFIRMAR CIERRE DE CAJA -->
<div id="modal-confirmar-caja"
     class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden flex items-center justify-center z-[999]">

  <div class="bg-white w-80 rounded-xl shadow-lg p-5 text-center animate-fadeIn">
      
      <h3 class="text-lg font-semibold text-slate-800">¬øCerrar caja del d√≠a?</h3>
      <p class="text-xs text-slate-500 mt-1">
        Se registrar√°n ingresos, egresos y se guardar√° el balance final.
      </p>

      <div class="mt-4 flex justify-center gap-3">
        <button id="btn-caja-cancelar"
          class="px-4 py-2 rounded-lg text-xs font-semibold bg-slate-200 text-slate-700 hover:bg-slate-300 transition">
          Cancelar
        </button>

        <button id="btn-caja-confirmar"
          class="px-4 py-2 rounded-lg text-xs font-semibold bg-rose-600 text-white hover:bg-rose-700 transition">
          Cerrar caja
        </button>
      </div>

  </div>
</div>

<!-- Modal Cargar Mermas -->
<div id="modalMermas" class="fixed inset-0 z-[9999] hidden items-center justify-center bg-black/40 backdrop-blur-sm">

  <div class="w-[95%] max-w-3xl rounded-2xl bg-white shadow-2xl border border-slate-200 overflow-hidden">

    <!-- Header -->
    <div class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
      <h2 class="text-sm font-bold text-slate-800">Cargar mermas</h2>
      <button id="btnCerrarModalMermas" class="text-slate-400 hover:text-slate-700 text-lg">‚úï</button>
    </div>

    <!-- Body -->
    <div class="p-4">
      <p class="text-xs text-slate-500 mb-3">Ingres√° la cantidad perdida por variedad</p>

      <!-- Grid variedades -->
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">

        <!-- Card variedad (estilo limpio) -->
        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Carne</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="1" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <!-- Repetir para cada variedad (con los IDs correspondientes) -->
        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Verdura</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="2" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Choclo</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="3" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Pollo</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="4" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">At√∫n</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="5" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Capresse</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="6" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Fugazza</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="7" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Queso azul</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="8" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Bondiola</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="9" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Vacio Desmenuzado</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="10" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Campo</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="11" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

        <div class="group flex flex-col items-center rounded-xl px-2 py-1.5 hover:bg-slate-100 transition">
          <p class="text-[11px] font-semibold text-slate-700 mb-1 text-center">Jam√≥n y queso</p>
          <input type="number" min="0" placeholder="0" data-variedad-id="12" onfocus="this.select()" class="w-14 h-7 rounded-full border border-slate-300 text-center text-sm font-semibold text-slate-700 focus:outline-none focus:ring-2 focus:ring-red-400" />
        </div>

      </div>
    </div>

    <!-- Footer -->
    <div class="flex items-center justify-between gap-2 px-4 py-3 border-t border-slate-200 bg-slate-50">
      <button id="btnCancelarMermas" class="rounded-full border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-100">
        Cancelar
      </button>

      <button
  id="btnGuardarMermas"
  class="rounded-full bg-red-600 px-4 py-1.5 text-xs font-bold text-white hover:bg-red-700 shadow">
  Guardar mermas
</button>

    </div>

  </div>
</div>

  </div>

<script>
  // Detectar si estamos en local o en producci√≥n
  const esLocal =
    window.location.hostname === "127.0.0.1" ||
    window.location.hostname === "localhost";

  window.API_BASE_URL = esLocal
    ? "http://localhost:8080"                      // backend local
    : "https://biencriollas-backend-production.up.railway.app"; // TU dominio de Railway
</script>


<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", async () => {
      try {
        await navigator.serviceWorker.register("/sw.js", { updateViaCache: "none" });

        // fuerza a buscar updates del SW cada vez que abr√≠s
        const reg = await navigator.serviceWorker.getRegistration();
        if (reg) reg.update();

        console.log("‚úÖ SW registrado/actualizado");
      } catch (err) {
        console.error("‚ùå SW error:", err);
      }
    });
  }
</script>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script type="module" src="./components/sidebar.js"></script>
<script type="module" src="./pages/obtenerPedidos.js"></script>
<script type="module" src="./pages/pedido.init.js"></script>
<script type="module" src="./components/toast.js"></script>
<script type="module" src="./pages/estadistica.js"></script>
<script type="module" src="./pages/stock.js"></script>
<script type="module" src="./pages/horarios.js"></script>
<script type="module" src="./pages/egresos.js"></script>



</body> 
</html>
